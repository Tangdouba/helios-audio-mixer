(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("audioMixer", [], factory);
	else if(typeof exports === 'object')
		exports["audioMixer"] = factory();
	else
		root["audioMixer"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_Mixer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/Mixer */ \"./src/modules/Mixer.js\");\n/* harmony import */ var _modules_Html5Track__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/Html5Track */ \"./src/modules/Html5Track.js\");\n/*\n\n  Audio Mixer\n\n*/\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  Mixer: _modules_Mixer__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  Html5Track: _modules_Html5Track__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJNaXhlciIsIkh0bWw1VHJhY2siXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7OztBQU1BO0FBQ0E7QUFFZTtBQUFFQSxPQUFLLEVBQUxBLHNEQUFGO0FBQVNDLFlBQVUsRUFBVkEsMkRBQVVBO0FBQW5CLENBQWYiLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIEF1ZGlvIE1peGVyXG5cbiovXG5cbmltcG9ydCBNaXhlciBmcm9tICcuL21vZHVsZXMvTWl4ZXInXG5pbXBvcnQgSHRtbDVUcmFjayBmcm9tICcuL21vZHVsZXMvSHRtbDVUcmFjaydcblxuZXhwb3J0IGRlZmF1bHQgeyBNaXhlciwgSHRtbDVUcmFjayB9XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/modules/BaseTrack.js":
/*!**********************************!*\
  !*** ./src/modules/BaseTrack.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BaseTrack; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n\n  base Track class, with event and timeline functionality\n\n*/\nvar BaseTrack =\n/*#__PURE__*/\nfunction () {\n  function BaseTrack(params) {\n    _classCallCheck(this, BaseTrack);\n\n    var track = this;\n    track.id = params.id;\n    track.events = {};\n    track.timelineEvents = params.timelineEvents ? _toConsumableArray(params.timelineEvents) : [];\n  }\n\n  _createClass(BaseTrack, [{\n    key: \"destroy\",\n    value: function destroy() {}\n    /*\n       Events\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, callback) {\n      var track = this;\n\n      if (typeof eventName !== 'string') {\n        throw new Error('Event name must be a string.');\n      }\n\n      if (!callback) {\n        throw new Error('Canâ€™t register an event without a callback.');\n      }\n\n      track.events[eventName] ? track.events[eventName].push(callback) : track.events[eventName] = [callback];\n      return track;\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      var track = this;\n\n      if (track.events[eventName]) {\n        if (callback) {\n          // remove specific callback\n          var index = track.events[eventName].indexOf(callback);\n          track.events[eventName].splice(index, 1);\n        } else {\n          // remove all callbacks for a given event name\n          track.events[eventName] = [];\n        }\n      }\n\n      return track;\n    }\n  }, {\n    key: \"one\",\n    value: function one(eventName, callback) {\n      var track = this;\n\n      var wrappedCallback = function wrappedCallback() {\n        track.off(eventName, wrappedCallback);\n        callback();\n      };\n\n      track.on(eventName, wrappedCallback);\n      return track;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(eventName) {\n      var track = this;\n\n      if (track.events[eventName]) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        track.events[eventName].forEach(function (fn) {\n          return fn.apply(track, args);\n        });\n      }\n\n      return track;\n    }\n    /*\n       Timeline\n         check if any events need to be triggered\n        this is called by the mixer using requestAnimationFrame\n     */\n\n  }, {\n    key: \"updateTimelineEvents\",\n    value: function updateTimelineEvents(time) {\n      var track = this;\n      var e;\n\n      for (var i = 0; i < track.timelineEvents.length; i++) {\n        e = track.timelineEvents[i];\n\n        if (time >= e.time && !e.triggered) {\n          e.triggered = true;\n\n          if (e.callback) {\n            e.callback.call(track);\n          }\n        }\n      }\n    }\n  }]);\n\n  return BaseTrack;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9CYXNlVHJhY2suanM/MzRlYiJdLCJuYW1lcyI6WyJCYXNlVHJhY2siLCJwYXJhbXMiLCJ0cmFjayIsImlkIiwiZXZlbnRzIiwidGltZWxpbmVFdmVudHMiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsIkVycm9yIiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIndyYXBwZWRDYWxsYmFjayIsIm9mZiIsIm9uIiwiYXJncyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiZm9yRWFjaCIsImZuIiwiYXBwbHkiLCJ0aW1lIiwiZSIsImkiLCJsZW5ndGgiLCJ0cmlnZ2VyZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7SUFNcUJBLFM7OztBQUNuQixxQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUNsQixRQUFJQyxLQUFLLEdBQUcsSUFBWjtBQUVBQSxTQUFLLENBQUNDLEVBQU4sR0FBZUYsTUFBTSxDQUFDRSxFQUF0QjtBQUNBRCxTQUFLLENBQUNFLE1BQU4sR0FBZSxFQUFmO0FBQ0FGLFNBQUssQ0FBQ0csY0FBTixHQUF1QkosTUFBTSxDQUFDSSxjQUFQLHNCQUE0QkosTUFBTSxDQUFDSSxjQUFuQyxJQUFzRCxFQUE3RTtBQUNEOzs7OzhCQUVTLENBQUU7QUFFWjs7Ozs7O3VCQU1HQyxTLEVBQVdDLFEsRUFBVTtBQUN0QixVQUFJTCxLQUFLLEdBQUcsSUFBWjs7QUFFQSxVQUFJLE9BQU9JLFNBQVAsS0FBcUIsUUFBekIsRUFBbUM7QUFDakMsY0FBTSxJQUFJRSxLQUFKLENBQVUsOEJBQVYsQ0FBTjtBQUNEOztBQUVELFVBQUksQ0FBQ0QsUUFBTCxFQUFlO0FBQ2IsY0FBTSxJQUFJQyxLQUFKLENBQVUsNkNBQVYsQ0FBTjtBQUNEOztBQUVETixXQUFLLENBQUNFLE1BQU4sQ0FBYUUsU0FBYixJQUEwQkosS0FBSyxDQUFDRSxNQUFOLENBQWFFLFNBQWIsRUFBd0JHLElBQXhCLENBQTZCRixRQUE3QixDQUExQixHQUFtRUwsS0FBSyxDQUFDRSxNQUFOLENBQWFFLFNBQWIsSUFBMEIsQ0FBQ0MsUUFBRCxDQUE3RjtBQUVBLGFBQU9MLEtBQVA7QUFDRDs7O3dCQUVHSSxTLEVBQVdDLFEsRUFBVTtBQUN2QixVQUFJTCxLQUFLLEdBQUcsSUFBWjs7QUFFQSxVQUFJQSxLQUFLLENBQUNFLE1BQU4sQ0FBYUUsU0FBYixDQUFKLEVBQTZCO0FBQzNCLFlBQUlDLFFBQUosRUFBYztBQUFFO0FBQ2QsY0FBTUcsS0FBSyxHQUFHUixLQUFLLENBQUNFLE1BQU4sQ0FBYUUsU0FBYixFQUF3QkssT0FBeEIsQ0FBZ0NKLFFBQWhDLENBQWQ7QUFDQUwsZUFBSyxDQUFDRSxNQUFOLENBQWFFLFNBQWIsRUFBd0JNLE1BQXhCLENBQStCRixLQUEvQixFQUFxQyxDQUFyQztBQUNELFNBSEQsTUFHTztBQUFTO0FBQ2RSLGVBQUssQ0FBQ0UsTUFBTixDQUFhRSxTQUFiLElBQTBCLEVBQTFCO0FBQ0Q7QUFDRjs7QUFFRCxhQUFPSixLQUFQO0FBQ0Q7Ozt3QkFFR0ksUyxFQUFXQyxRLEVBQVU7QUFDdkIsVUFBSUwsS0FBSyxHQUFHLElBQVo7O0FBRUEsVUFBTVcsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixHQUFXO0FBQ2pDWCxhQUFLLENBQUNZLEdBQU4sQ0FBVVIsU0FBVixFQUFxQk8sZUFBckI7QUFDQU4sZ0JBQVE7QUFDVCxPQUhEOztBQUtBTCxXQUFLLENBQUNhLEVBQU4sQ0FBU1QsU0FBVCxFQUFvQk8sZUFBcEI7QUFFQSxhQUFPWCxLQUFQO0FBQ0Q7Ozs0QkFFT0ksUyxFQUFXO0FBQ2pCLFVBQUlKLEtBQUssR0FBRyxJQUFaOztBQUVBLFVBQUlBLEtBQUssQ0FBQ0UsTUFBTixDQUFhRSxTQUFiLENBQUosRUFBNkI7QUFDM0IsWUFBTVUsSUFBSSxHQUFHQyxLQUFLLENBQUNDLFNBQU4sQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQkMsU0FBM0IsRUFBc0MsQ0FBdEMsQ0FBYjtBQUNBbkIsYUFBSyxDQUFDRSxNQUFOLENBQWFFLFNBQWIsRUFBd0JnQixPQUF4QixDQUFnQyxVQUFBQyxFQUFFO0FBQUEsaUJBQUlBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTdEIsS0FBVCxFQUFnQmMsSUFBaEIsQ0FBSjtBQUFBLFNBQWxDO0FBQ0Q7O0FBRUQsYUFBT2QsS0FBUDtBQUNEO0FBRUQ7Ozs7Ozs7O3lDQVNxQnVCLEksRUFBTTtBQUN6QixVQUFJdkIsS0FBSyxHQUFHLElBQVo7QUFDQSxVQUFJd0IsQ0FBSjs7QUFFQSxXQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUd6QixLQUFLLENBQUNHLGNBQU4sQ0FBcUJ1QixNQUF6QyxFQUFpREQsQ0FBQyxFQUFsRCxFQUFzRDtBQUNwREQsU0FBQyxHQUFHeEIsS0FBSyxDQUFDRyxjQUFOLENBQXFCc0IsQ0FBckIsQ0FBSjs7QUFDQSxZQUFJRixJQUFJLElBQUlDLENBQUMsQ0FBQ0QsSUFBVixJQUFrQixDQUFDQyxDQUFDLENBQUNHLFNBQXpCLEVBQW9DO0FBQ2xDSCxXQUFDLENBQUNHLFNBQUYsR0FBYyxJQUFkOztBQUNBLGNBQUlILENBQUMsQ0FBQ25CLFFBQU4sRUFBZ0I7QUFBRW1CLGFBQUMsQ0FBQ25CLFFBQUYsQ0FBV2EsSUFBWCxDQUFnQmxCLEtBQWhCO0FBQXdCO0FBQzNDO0FBQ0Y7QUFDRiIsImZpbGUiOiIuL3NyYy9tb2R1bGVzL0Jhc2VUcmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgYmFzZSBUcmFjayBjbGFzcywgd2l0aCBldmVudCBhbmQgdGltZWxpbmUgZnVuY3Rpb25hbGl0eVxuXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVHJhY2sge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICB0cmFjay5pZCAgICAgPSBwYXJhbXMuaWRcbiAgICB0cmFjay5ldmVudHMgPSB7fVxuICAgIHRyYWNrLnRpbWVsaW5lRXZlbnRzID0gcGFyYW1zLnRpbWVsaW5lRXZlbnRzID8gWy4uLnBhcmFtcy50aW1lbGluZUV2ZW50cyBdIDogW11cbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIC8qXG5cbiAgICBFdmVudHNcblxuICAqL1xuXG4gIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgbmFtZSBtdXN0IGJlIGEgc3RyaW5nLicpXG4gICAgfVxuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW7igJl0IHJlZ2lzdGVyIGFuIGV2ZW50IHdpdGhvdXQgYSBjYWxsYmFjay4nKVxuICAgIH1cblxuICAgIHRyYWNrLmV2ZW50c1tldmVudE5hbWVdID8gdHJhY2suZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjaykgOiB0cmFjay5ldmVudHNbZXZlbnROYW1lXSA9IFtjYWxsYmFja11cblxuICAgIHJldHVybiB0cmFja1xuICB9XG5cbiAgb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBpZiAodHJhY2suZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgIGlmIChjYWxsYmFjaykgeyAvLyByZW1vdmUgc3BlY2lmaWMgY2FsbGJhY2tcbiAgICAgICAgY29uc3QgaW5kZXggPSB0cmFjay5ldmVudHNbZXZlbnROYW1lXS5pbmRleE9mKGNhbGxiYWNrKVxuICAgICAgICB0cmFjay5ldmVudHNbZXZlbnROYW1lXS5zcGxpY2UoaW5kZXgsMSlcbiAgICAgIH0gZWxzZSB7ICAgICAgICAvLyByZW1vdmUgYWxsIGNhbGxiYWNrcyBmb3IgYSBnaXZlbiBldmVudCBuYW1lXG4gICAgICAgIHRyYWNrLmV2ZW50c1tldmVudE5hbWVdID0gW11cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIG9uZShldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICB0cmFjay5vZmYoZXZlbnROYW1lLCB3cmFwcGVkQ2FsbGJhY2spXG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdHJhY2sub24oZXZlbnROYW1lLCB3cmFwcGVkQ2FsbGJhY2spXG5cbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIHRyaWdnZXIoZXZlbnROYW1lKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKHRyYWNrLmV2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICAgdHJhY2suZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaChmbiA9PiBmbi5hcHBseSh0cmFjaywgYXJncykpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYWNrXG4gIH1cblxuICAvKlxuXG4gICAgVGltZWxpbmVcblxuICAgICAgY2hlY2sgaWYgYW55IGV2ZW50cyBuZWVkIHRvIGJlIHRyaWdnZXJlZFxuICAgICAgdGhpcyBpcyBjYWxsZWQgYnkgdGhlIG1peGVyIHVzaW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4gICovXG5cbiAgdXBkYXRlVGltZWxpbmVFdmVudHModGltZSkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICBsZXQgZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFjay50aW1lbGluZUV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZSA9IHRyYWNrLnRpbWVsaW5lRXZlbnRzW2ldXG4gICAgICBpZiAodGltZSA+PSBlLnRpbWUgJiYgIWUudHJpZ2dlcmVkKSB7XG4gICAgICAgIGUudHJpZ2dlcmVkID0gdHJ1ZVxuICAgICAgICBpZiAoZS5jYWxsYmFjaykgeyBlLmNhbGxiYWNrLmNhbGwodHJhY2spIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/BaseTrack.js\n");

/***/ }),

/***/ "./src/modules/BufferSourceTrack.js":
/*!******************************************!*\
  !*** ./src/modules/BufferSourceTrack.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BufferSourceTrack; });\n/* harmony import */ var _WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebAudioTrack */ \"./src/modules/WebAudioTrack.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/modules/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n\n  Web Audio API: Buffer Source track\n\n*/\n\n\n\nvar BufferSourceTrack =\n/*#__PURE__*/\nfunction (_WebAudioTrack) {\n  _inherits(BufferSourceTrack, _WebAudioTrack);\n\n  function BufferSourceTrack(params) {\n    var _this;\n\n    _classCallCheck(this, BufferSourceTrack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BufferSourceTrack).call(this, params));\n\n    var track = _assertThisInitialized(_this);\n\n    var defaults = {\n      id: '',\n      src: '',\n      volume: 1,\n      start: 0,\n      loop: false,\n      autoplay: false,\n      autoload: true,\n      context: false,\n      mix: false,\n      nodes: []\n    };\n    track.options = Object.assign(defaults, params);\n    track.ctx = track.options.context;\n    track.status = {\n      ready: false,\n      shouldPlayOnLoad: false,\n      playing: false,\n      muted: track.options.muted || false // internal flags and data\n\n    };\n    track.data = {\n      gain: track.options.volume,\n      // manual time tracking\n      cachedTime: 0,\n      startTime: 0\n    };\n\n    if (!track.ctx) {\n      throw new Error('Canâ€™t create a WebAudioTrack without Web Audio API support');\n    }\n\n    if (!track.options.src) {\n      throw new Error('Canâ€™t create a WebAudioTrack without a src parameter');\n    } // limited subset of events available because they're all simulated\n\n\n    var eventNames = ['loadstart', 'loadedmetadata', 'canplay', 'canplaythrough', 'play', 'pause', 'ended', 'error']; // load the source the right away, even if autoplay isn't set.\n\n    if (track.options.autoload || track.options.autoplay) {\n      track.load();\n    }\n\n    return _this;\n  }\n  /*\n     Playback needs to wait for the track to be loaded.\n    After this, it's a synchronous function.\n     You can listen for the 'canplaythrough' event to ensure\n    synchronous playback of multiple buffer tracks.\n   */\n\n\n  _createClass(BufferSourceTrack, [{\n    key: \"play\",\n    value: function play() {\n      var track = this;\n      /*\n         this logic accomodates calling play() multiple times while waiting for the track to be set up\n       */\n\n      if (track.status.playing) {\n        return track;\n      }\n\n      if (!track.status.ready) {\n        if (!track.options.autoload && !track.status.shouldPlayOnLoad) {\n          track.load();\n        }\n\n        track.status.shouldPlayOnLoad = true;\n        return track;\n      }\n      /*\n         if we got this far we're actually ready to play, let's go!\n       */\n      // the buffer needs to be re-created every time we play()\n\n\n      track.data.source = track.ctx.createBufferSource();\n      track.data.source.buffer = track.data.decodedBuffer;\n      track.data.source.loop = track.options.loop ? true : false; // as do the nodes\n\n      var gainNode = {\n        type: 'GainNode',\n        options: {\n          gain: track.data.gain\n        }\n      };\n\n      _get(_getPrototypeOf(BufferSourceTrack.prototype), \"createNodes\", this).call(this, [gainNode].concat(_toConsumableArray(track.options.nodes)), track.data.source);\n\n      track.data.startTime = track.data.source.context.currentTime - track.data.cachedTime;\n      track.startFrom = track.data.cachedTime || 0; // prefer start() but fall back to older, deprecated noteOn()\n\n      if (typeof track.data.source.start === 'function') {\n        track.data.source.start(0, track.startFrom);\n      } else {\n        track.data.source.noteOn(track.startFrom);\n      }\n\n      track.setEndTimer();\n      track.status.playing = true;\n\n      _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'play', track);\n\n      return track;\n    }\n    /*\n       Buffer source mode requires the source file to be fully loaded\n      and decoded before it can be play, so here we fetch it as an\n      array buffer (because it needs to be in raw binary format to be\n      decoded).\n       Web Audio API has the same browser support as fetch (no IE,\n      not even 11), so we can use this delightful method.\n     */\n\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n\n      var track = this;\n\n      _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'loadstart');\n\n      return window.fetch(track.options.src).then(function (res) {\n        return res.arrayBuffer();\n      }).then(function (audioData) {\n        track.data.audioData = audioData; // Decode audio data\n\n        if (typeof track.ctx.createGain === 'function') {\n          // W3C standard implementation - async (Firefox, recent Chrome)\n          return new Promise(function (resolve, reject) {\n            track.ctx.decodeAudioData(audioData, function (decodedBuffer) {\n              track.data.decodedBuffer = decodedBuffer;\n              resolve();\n            });\n          });\n        } else if (typeof track.ctx.createGainNode === 'function') {\n          // Non-standard Webkit implementation (Safari, old Chrome)\n          // not async but we fake it for consistency\n          var decodedBuffer = track.ctx.createBuffer(audioData, true);\n          track.data.decodedBuffer = decodedBuffer;\n          return Promise.resolve();\n        }\n      }).then(function () {\n        track.status.ready = true; // now that the source is decoded, we know its duration\n\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", _this2).call(_this2, 'loadedmetadata');\n\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", _this2).call(_this2, 'canplay');\n\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", _this2).call(_this2, 'canplaythrough');\n\n        if (track.options.autoplay || track.status.shouldPlayOnLoad) {\n          track.play();\n        }\n      });\n    }\n    /*\n       Buffer tracks don't have an ended event so we simulate it using setTimeout\n     */\n\n  }, {\n    key: \"setEndTimer\",\n    value: function setEndTimer() {\n      var track = this;\n      track.data.timerDuration = track.data.source.buffer.duration - track.startFrom;\n\n      if (track.data.onendtimer) {\n        window.clearTimeout(track.data.onendtimer);\n      }\n\n      track.data.onendtimer = window.setTimeout(track.ended.bind(track), track.data.timerDuration * 1000);\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      var track = this;\n\n      if (track.options.loop) {\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'ended', track);\n\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'loop', track);\n\n        track.pause(0);\n        track.play();\n      } else {\n        track.status.playing = false;\n\n        _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'ended', track);\n      }\n    } // end of play functions\n    // ********************************************************\n\n  }, {\n    key: \"pause\",\n    value: function pause(pauseAtTime) {\n      var track = this; // disable autoplay, if we've paused the track before it's had a chance to load\n\n      if (!track.status.playing && track.status.shouldPlayOnLoad) {\n        track.status.shouldPlayOnLoad = false;\n        track.options.autoplay = false;\n        return track;\n      }\n\n      track.data.cachedTime = typeof pauseAtTime === 'number' ? pauseAtTime : track.currentTime();\n      track.status.playing = false;\n\n      if (track.data.onendtimer) {\n        window.clearTimeout(track.data.onendtimer);\n      } // prefer stop(), fallback to deprecated noteOff()\n\n\n      if (track.data.source) {\n        if (typeof track.data.source.stop === 'function') {\n          track.data.source.stop(0);\n        } else if (typeof track.data.source.noteOff === 'function') {\n          track.data.source.noteOff(0);\n        }\n      }\n\n      _get(_getPrototypeOf(BufferSourceTrack.prototype), \"trigger\", this).call(this, 'pause', track);\n\n      return track;\n    }\n  }, {\n    key: \"currentTime\",\n    value: function currentTime(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'number') {\n        if (track.status.playing) {\n          // to seek a buffer track, we need to pause and play\n          track.pause(setTo).play();\n        } else {\n          // if we're paused or not loaded yet, cache the time\n          track.data.cachedTime = setTo;\n        }\n\n        return track;\n      }\n\n      if (!track.status.ready || !track.status.playing) {\n        return track.data.cachedTime || 0;\n      }\n\n      return track.data.source.context.currentTime - track.data.startTime || 0;\n    }\n  }, {\n    key: \"formattedTime\",\n    value: function formattedTime(includeDuration) {\n      var track = this;\n      var t = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.currentTime());\n      var d = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.duration());\n\n      if (includeDuration) {\n        return \"\".concat(t, \"/\").concat(d);\n      } else {\n        return t;\n      }\n    }\n  }, {\n    key: \"duration\",\n    value: function duration() {\n      var track = this;\n\n      if (!track.status.ready || !track.data.source) {\n        return 0;\n      }\n\n      return track.data.source.buffer.duration || 0;\n    } // for a buffer track, volume() is basically an alias for the gain node\n\n  }, {\n    key: \"volume\",\n    value: function volume(setTo) {\n      var track = this;\n      var gainNode = track.node('GainNode');\n\n      if (typeof setTo === 'number') {\n        setTo = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n\n        if (track.status.muted) {\n          track.data.gainCache = setTo; // cache the value for when we unmute\n\n          track.data.gain = 0;\n        } else {\n          track.data.gain = setTo;\n        }\n\n        if (track.status.playing && gainNode) {\n          gainNode.gain(track.options.mix ? track.data.gain * track.options.mix.volume() : track.data.gain);\n        }\n\n        return track;\n      } else {\n        // accurately report gain while weâ€™re tweening it\n        if (track.status.playing && gainNode) {\n          track.data.gain = gainNode.gain();\n        }\n\n        return track.data.gain;\n      }\n    }\n  }, {\n    key: \"tweenVolume\",\n    value: function tweenVolume(setTo, duration) {\n      var track = this; // remove existing volume tween\n\n      if (track.volumeTween) {\n        window.cancelAnimationFrame(track.volumeTween);\n      } // if we're playing, we can use the gain node's native value ramp method\n\n\n      if (track.gainNode) {\n        track.gainNode.tweenGain(setTo, duration);\n        return _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeoutPromise(duration * 1000);\n      } // if we're not playing or haven't loaded yet,\n      // fall back to requestAnimationFrame\n\n\n      return new Promise(function (resolve, reject) {\n        var fps = 60; // requestAnimationFrame\n\n        var durationInFrames = Math.round(duration * fps);\n        var frameCount = Math.round(duration * fps);\n        var startVolume = track.volume();\n        var endVolume = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        tick();\n\n        function tick() {\n          if (frameCount <= 0) {\n            track.volume(endVolume);\n            resolve(track);\n          } else {\n            track.volumeTween = window.requestAnimationFrame(tick);\n          }\n\n          frameCount -= 1;\n          var progress = 1 - frameCount / durationInFrames;\n          var v = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lerp(startVolume, endVolume, progress);\n          track.volume(v);\n        }\n      });\n    }\n  }, {\n    key: \"muted\",\n    value: function muted(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'boolean') {\n        if (setTo === true) {\n          // mute: cache current gain, then set to 0\n          track.data.gainCache = track.data.gain;\n          track.volume(0);\n          track.status.muted = true;\n        } else {\n          // unmute\n          track.status.muted = false;\n          track.volume(track.data.gainCache);\n        }\n\n        return track;\n      }\n\n      return track.status.muted;\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      var track = this;\n      return !track.status.playing;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var track = this;\n      track.pause();\n    }\n  }]);\n\n  return BufferSourceTrack;\n}(_WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9CdWZmZXJTb3VyY2VUcmFjay5qcz9mNTgzIl0sIm5hbWVzIjpbIkJ1ZmZlclNvdXJjZVRyYWNrIiwicGFyYW1zIiwidHJhY2siLCJkZWZhdWx0cyIsImlkIiwic3JjIiwidm9sdW1lIiwic3RhcnQiLCJsb29wIiwiYXV0b3BsYXkiLCJhdXRvbG9hZCIsImNvbnRleHQiLCJtaXgiLCJub2RlcyIsIm9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJjdHgiLCJzdGF0dXMiLCJyZWFkeSIsInNob3VsZFBsYXlPbkxvYWQiLCJwbGF5aW5nIiwibXV0ZWQiLCJkYXRhIiwiZ2FpbiIsImNhY2hlZFRpbWUiLCJzdGFydFRpbWUiLCJFcnJvciIsImV2ZW50TmFtZXMiLCJsb2FkIiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiZGVjb2RlZEJ1ZmZlciIsImdhaW5Ob2RlIiwidHlwZSIsImN1cnJlbnRUaW1lIiwic3RhcnRGcm9tIiwibm90ZU9uIiwic2V0RW5kVGltZXIiLCJ3aW5kb3ciLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJhcnJheUJ1ZmZlciIsImF1ZGlvRGF0YSIsImNyZWF0ZUdhaW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRlY29kZUF1ZGlvRGF0YSIsImNyZWF0ZUdhaW5Ob2RlIiwiY3JlYXRlQnVmZmVyIiwicGxheSIsInRpbWVyRHVyYXRpb24iLCJkdXJhdGlvbiIsIm9uZW5kdGltZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZW5kZWQiLCJiaW5kIiwicGF1c2UiLCJwYXVzZUF0VGltZSIsInN0b3AiLCJub3RlT2ZmIiwic2V0VG8iLCJpbmNsdWRlRHVyYXRpb24iLCJ0IiwidXRpbHMiLCJ0aW1lRm9ybWF0IiwiZCIsIm5vZGUiLCJub3JtYWxpemUiLCJnYWluQ2FjaGUiLCJ2b2x1bWVUd2VlbiIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidHdlZW5HYWluIiwidGltZW91dFByb21pc2UiLCJmcHMiLCJkdXJhdGlvbkluRnJhbWVzIiwiTWF0aCIsInJvdW5kIiwiZnJhbWVDb3VudCIsInN0YXJ0Vm9sdW1lIiwiZW5kVm9sdW1lIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByb2dyZXNzIiwidiIsImxlcnAiLCJXZWJBdWRpb1RyYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBTUE7QUFDQTs7SUFFcUJBLGlCOzs7OztBQUNuQiw2QkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBOztBQUNsQiwyRkFBTUEsTUFBTjs7QUFDQSxRQUFJQyxLQUFLLGdDQUFUOztBQUVBLFFBQUlDLFFBQVEsR0FBRztBQUNiQyxRQUFFLEVBQVEsRUFERztBQUViQyxTQUFHLEVBQU8sRUFGRztBQUdiQyxZQUFNLEVBQUksQ0FIRztBQUliQyxXQUFLLEVBQUssQ0FKRztBQUtiQyxVQUFJLEVBQU0sS0FMRztBQU1iQyxjQUFRLEVBQUUsS0FORztBQU9iQyxjQUFRLEVBQUUsSUFQRztBQVFiQyxhQUFPLEVBQUcsS0FSRztBQVNiQyxTQUFHLEVBQU8sS0FURztBQVViQyxXQUFLLEVBQUs7QUFWRyxLQUFmO0FBWUFYLFNBQUssQ0FBQ1ksT0FBTixHQUFnQkMsTUFBTSxDQUFDQyxNQUFQLENBQWNiLFFBQWQsRUFBd0JGLE1BQXhCLENBQWhCO0FBQ0FDLFNBQUssQ0FBQ2UsR0FBTixHQUFnQmYsS0FBSyxDQUFDWSxPQUFOLENBQWNILE9BQTlCO0FBRUFULFNBQUssQ0FBQ2dCLE1BQU4sR0FBZTtBQUNiQyxXQUFLLEVBQWEsS0FETDtBQUViQyxzQkFBZ0IsRUFBRSxLQUZMO0FBR2JDLGFBQU8sRUFBVyxLQUhMO0FBSWJDLFdBQUssRUFBYXBCLEtBQUssQ0FBQ1ksT0FBTixDQUFjUSxLQUFkLElBQXVCLEtBSjVCLENBT2Y7O0FBUGUsS0FBZjtBQVFBcEIsU0FBSyxDQUFDcUIsSUFBTixHQUFhO0FB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Q0EvRCxlQUFLLENBQUNxQixJQUFOLENBQVdrRCxTQUFYLEdBQXVCdkUsS0FBSyxDQUFDcUIsSUFBTixDQUFXQyxJQUFsQztBQUNBdEIsZUFBSyxDQUFDSSxNQUFOLENBQWEsQ0FBYjtBQUNBSixlQUFLLENBQUNnQixNQUFOLENBQWFJLEtBQWIsR0FBcUIsSUFBckI7QUFFRCxTQVBELE1BT087QUFFTDtBQUNBcEIsZUFBSyxDQUFDZ0IsTUFBTixDQUFhSSxLQUFiLEdBQXFCLEtBQXJCO0FBQ0FwQixlQUFLLENBQUNJLE1BQU4sQ0FBYUosS0FBSyxDQUFDcUIsSUFBTixDQUFXa0QsU0FBeEI7QUFDRDs7QUFDRCxlQUFPdkUsS0FBUDtBQUNEOztBQUNELGFBQU9BLEtBQUssQ0FBQ2dCLE1BQU4sQ0FBYUksS0FBcEI7QUFDRDs7OzZCQUVRO0FBQ1AsVUFBSXBCLEtBQUssR0FBRyxJQUFaO0FBQ0EsYUFBTyxDQUFDQSxLQUFLLENBQUNnQixNQUFOLENBQWFHLE9BQXJCO0FBQ0Q7Ozs4QkFFUztBQUNSLFVBQUluQixLQUFLLEdBQUcsSUFBWjtBQUNBQSxXQUFLLENBQUMyRCxLQUFOO0FBQ0Q7Ozs7RUEzWDRDNkIsc0QiLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9CdWZmZXJTb3VyY2VUcmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgV2ViIEF1ZGlvIEFQSTogQnVmZmVyIFNvdXJjZSB0cmFja1xuXG4qL1xuXG5pbXBvcnQgV2ViQXVkaW9UcmFjayBmcm9tICcuL1dlYkF1ZGlvVHJhY2snXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyU291cmNlVHJhY2sgZXh0ZW5kcyBXZWJBdWRpb1RyYWNrIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKVxuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgIGlkOiAgICAgICAnJyxcbiAgICAgIHNyYzogICAgICAnJyxcbiAgICAgIHZvbHVtZTogICAxLFxuICAgICAgc3RhcnQ6ICAgIDAsXG4gICAgICBsb29wOiAgICAgZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBhdXRvbG9hZDogdHJ1ZSxcbiAgICAgIGNvbnRleHQ6ICBmYWxzZSxcbiAgICAgIG1peDogICAgICBmYWxzZSxcbiAgICAgIG5vZGVzOiAgICBbXVxuICAgIH1cbiAgICB0cmFjay5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgcGFyYW1zKVxuICAgIHRyYWNrLmN0eCAgICAgPSB0cmFjay5vcHRpb25zLmNvbnRleHRcblxuICAgIHRyYWNrLnN0YXR1cyA9IHtcbiAgICAgIHJlYWR5OiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgc2hvdWxkUGxheU9uTG9hZDogZmFsc2UsXG4gICAgICBwbGF5aW5nOiAgICAgICAgICBmYWxzZSxcbiAgICAgIG11dGVkOiAgICAgICAgICAgIHRyYWNrLm9wdGlvbnMubXV0ZWQgfHwgZmFsc2VcbiAgICB9XG5cbiAgICAvLyBpbnRlcm5hbCBmbGFncyBhbmQgZGF0YVxuICAgIHRyYWNrLmRhdGEgPSB7XG4gICAgICBnYWluOiAgICAgICB0cmFjay5vcHRpb25zLnZvbHVtZSxcbiAgICAgIC8vIG1hbnVhbCB0aW1lIHRyYWNraW5nXG4gICAgICBjYWNoZWRUaW1lOiAwLFxuICAgICAgc3RhcnRUaW1lOiAgMFxuICAgIH1cblxuICAgIGlmICghdHJhY2suY3R4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgY3JlYXRlIGEgV2ViQXVkaW9UcmFjayB3aXRob3V0IFdlYiBBdWRpbyBBUEkgc3VwcG9ydCcpXG4gICAgfVxuXG4gICAgaWYgKCF0cmFjay5vcHRpb25zLnNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW7igJl0IGNyZWF0ZSBhIFdlYkF1ZGlvVHJhY2sgd2l0aG91dCBhIHNyYyBwYXJhbWV0ZXInKVxuICAgIH1cblxuICAgIC8vIGxpbWl0ZWQgc3Vic2V0IG9mIGV2ZW50cyBhdmFpbGFibGUgYmVjYXVzZSB0aGV5J3JlIGFsbCBzaW11bGF0ZWRcbiAgICBsZXQgZXZlbnROYW1lcyA9IFtcbiAgICAgICdsb2Fkc3RhcnQnLCAnbG9hZGVkbWV0YWRhdGEnLFxuICAgICAgJ2NhbnBsYXknLCAgICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgICAncGxheScsICAgICAgJ3BhdXNlJyxcbiAgICAgICdlbmRlZCcsXG4gICAgICAnZXJyb3InXG4gICAgXVxuXG4gICAgLy8gbG9hZCB0aGUgc291cmNlIHRoZSByaWdodCBhd2F5LCBldmVuIGlmIGF1dG9wbGF5IGlzbid0IHNldC5cbiAgICBpZiAodHJhY2sub3B0aW9ucy5hdXRvbG9hZCB8fCB0cmFjay5vcHRpb25zLmF1dG9wbGF5KSB7XG4gICAgICB0cmFjay5sb2FkKClcbiAgICB9XG4gIH1cblxuICAvKlxuXG4gICAgUGxheWJhY2sgbmVlZHMgdG8gd2FpdCBmb3IgdGhlIHRyYWNrIHRvIGJlIGxvYWRlZC5cbiAgICBBZnRlciB0aGlzLCBpdCdzIGEgc3luY2hyb25vdXMgZnVuY3Rpb24uXG5cbiAgICBZb3UgY2FuIGxpc3RlbiBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCcgZXZlbnQgdG8gZW5zdXJlXG4gICAgc3luY2hyb25vdXMgcGxheWJhY2sgb2YgbXVsdGlwbGUgYnVmZmVyIHRyYWNrcy5cblxuICAqL1xuXG4gIHBsYXkoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgLypcblxuICAgICAgdGhpcyBsb2dpYyBhY2NvbW9kYXRlcyBjYWxsaW5nIHBsYXkoKSBtdWx0aXBsZSB0aW1lcyB3aGlsZSB3YWl0aW5nIGZvciB0aGUgdHJhY2sgdG8gYmUgc2V0IHVwXG5cbiAgICAqL1xuXG4gICAgaWYgKHRyYWNrLnN0YXR1cy5wbGF5aW5nKSB7IHJldHVybiB0cmFjayB9XG5cbiAgICBpZiAoIXRyYWNrLnN0YXR1cy5yZWFkeSkge1xuICAgICAgaWYgKCF0cmFjay5vcHRpb25zLmF1dG9sb2FkICYmICF0cmFjay5zdGF0dXMuc2hvdWxkUGxheU9uTG9hZCkge1xuICAgICAgICB0cmFjay5sb2FkKClcbiAgICAgIH1cbiAgICAgIHRyYWNrLnN0YXR1cy5zaG91bGRQbGF5T25Mb2FkID0gdHJ1ZVxuICAgICAgcmV0dXJuIHRyYWNrXG4gICAgfVxuXG4gICAgLypcblxuICAgICAgaWYgd2UgZ290IHRoaXMgZmFyIHdlJ3JlIGFjdHVhbGx5IHJlYWR5IHRvIHBsYXksIGxldCdzIGdvIVxuXG4gICAgKi9cblxuICAgIC8vIHRoZSBidWZmZXIgbmVlZHMgdG8gYmUgcmUtY3JlYXRlZCBldmVyeSB0aW1lIHdlIHBsYXkoKVxuICAgIHRyYWNrLmRhdGEuc291cmNlICAgICAgICA9IHRyYWNrLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxuICAgIHRyYWNrLmRhdGEuc291cmNlLmJ1ZmZlciA9IHRyYWNrLmRhdGEuZGVjb2RlZEJ1ZmZlclxuICAgIHRyYWNrLmRhdGEuc291cmNlLmxvb3AgICA9IHRyYWNrLm9wdGlvbnMubG9vcCA/IHRydWUgOiBmYWxzZVxuXG4gICAgLy8gYXMgZG8gdGhlIG5vZGVzXG4gICAgY29uc3QgZ2Fpbk5vZGUgPSB7IHR5cGU6ICdHYWluTm9kZScsIG9wdGlvbnM6IHsgZ2FpbjogdHJhY2suZGF0YS5nYWluIH0gfVxuICAgIHN1cGVyLmNyZWF0ZU5vZGVzKFtnYWluTm9kZSwgLi4udHJhY2sub3B0aW9ucy5ub2Rlc10sIHRyYWNrLmRhdGEuc291cmNlKVxuXG4gICAgdHJhY2suZGF0YS5zdGFydFRpbWUgPSB0cmFjay5kYXRhLnNvdXJjZS5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdHJhY2suZGF0YS5jYWNoZWRUaW1lXG5cbiAgICB0cmFjay5zdGFydEZyb20gPSB0cmFjay5kYXRhLmNhY2hlZFRpbWUgfHwgMFxuXG4gICAgLy8gcHJlZmVyIHN0YXJ0KCkgYnV0IGZhbGwgYmFjayB0byBvbGRlciwgZGVwcmVjYXRlZCBub3RlT24oKVxuICAgIGlmICh0eXBlb2YgdHJhY2suZGF0YS5zb3VyY2Uuc3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRyYWNrLmRhdGEuc291cmNlLnN0YXJ0KDAsIHRyYWNrLnN0YXJ0RnJvbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2suZGF0YS5zb3VyY2Uubm90ZU9uKHRyYWNrLnN0YXJ0RnJvbSlcbiAgICB9XG5cbiAgICB0cmFjay5zZXRFbmRUaW1lcigpXG5cbiAgICB0cmFjay5zdGF0dXMucGxheWluZyA9IHRydWVcbiAgICBzdXBlci50cmlnZ2VyKCdwbGF5JywgdHJhY2spXG5cbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIC8qXG5cbiAgICBCdWZmZXIgc291cmNlIG1vZGUgcmVxdWlyZXMgdGhlIHNvdXJjZSBmaWxlIHRvIGJlIGZ1bGx5IGxvYWRlZFxuICAgIGFuZCBkZWNvZGVkIGJlZm9yZSBpdCBjYW4gYmUgcGxheSwgc28gaGVyZSB3ZSBmZXRjaCBpdCBhcyBhblxuICAgIGFycmF5IGJ1ZmZlciAoYmVjYXVzZSBpdCBuZWVkcyB0byBiZSBpbiByYXcgYmluYXJ5IGZvcm1hdCB0byBiZVxuICAgIGRlY29kZWQpLlxuXG4gICAgV2ViIEF1ZGlvIEFQSSBoYXMgdGhlIHNhbWUgYnJvd3NlciBzdXBwb3J0IGFzIGZldGNoIChubyBJRSxcbiAgICBub3QgZXZlbiAxMSksIHNvIHdlIGNhbiB1c2UgdGhpcyBkZWxpZ2h0ZnVsIG1ldGhvZC5cblxuICAqL1xuXG4gIGxvYWQoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHN1cGVyLnRyaWdnZXIoJ2xvYWRzdGFydCcpXG5cbiAgICByZXR1cm4gd2luZG93LmZldGNoKHRyYWNrLm9wdGlvbnMuc3JjKVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5hcnJheUJ1ZmZlcigpKVxuICAgICAgLnRoZW4oYXVkaW9EYXRhID0+IHtcbiAgICAgICAgdHJhY2suZGF0YS5hdWRpb0RhdGEgPSBhdWRpb0RhdGFcblxuICAgICAgICAvLyBEZWNvZGUgYXVkaW8gZGF0YVxuICAgICAgICBpZiAodHlwZW9mIHRyYWNrLmN0eC5jcmVhdGVHYWluID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAvLyBXM0Mgc3RhbmRhcmQgaW1wbGVtZW50YXRpb24gLSBhc3luYyAoRmlyZWZveCwgcmVjZW50IENocm9tZSlcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0cmFjay5jdHguZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSwgZnVuY3Rpb24oZGVjb2RlZEJ1ZmZlcikge1xuICAgICAgICAgICAgICB0cmFjay5kYXRhLmRlY29kZWRCdWZmZXIgPSBkZWNvZGVkQnVmZmVyXG4gICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRyYWNrLmN0eC5jcmVhdGVHYWluTm9kZSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgLy8gTm9uLXN0YW5kYXJkIFdlYmtpdCBpbXBsZW1lbnRhdGlvbiAoU2FmYXJpLCBvbGQgQ2hyb21lKVxuICAgICAgICAgIC8vIG5vdCBhc3luYyBidXQgd2UgZmFrZSBpdCBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgICBsZXQgZGVjb2RlZEJ1ZmZlciA9IHRyYWNrLmN0eC5jcmVhdGVCdWZmZXIoYXVkaW9EYXRhLCB0cnVlKVxuICAgICAgICAgIHRyYWNrLmRhdGEuZGVjb2RlZEJ1ZmZlciA9IGRlY29kZWRCdWZmZXJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdHJhY2suc3RhdHVzLnJlYWR5ID0gdHJ1ZVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHRoZSBzb3VyY2UgaXMgZGVjb2RlZCwgd2Uga25vdyBpdHMgZHVyYXRpb25cbiAgICAgICAgc3VwZXIudHJpZ2dlcignbG9hZGVkbWV0YWRhdGEnKVxuICAgICAgICBzdXBlci50cmlnZ2VyKCdjYW5wbGF5JylcbiAgICAgICAgc3VwZXIudHJpZ2dlcignY2FucGxheXRocm91Z2gnKVxuXG4gICAgICAgIGlmICh0cmFjay5vcHRpb25zLmF1dG9wbGF5IHx8IHRyYWNrLnN0YXR1cy5zaG91bGRQbGF5T25Mb2FkKSB7XG4gICAgICAgICAgdHJhY2sucGxheSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICAvKlxuXG4gICAgQnVmZmVyIHRyYWNrcyBkb24ndCBoYXZlIGFuIGVuZGVkIGV2ZW50IHNvIHdlIHNpbXVsYXRlIGl0IHVzaW5nIHNldFRpbWVvdXRcblxuICAqL1xuXG4gIHNldEVuZFRpbWVyKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIHRyYWNrLmRhdGEudGltZXJEdXJhdGlvbiA9IHRyYWNrLmRhdGEuc291cmNlLmJ1ZmZlci5kdXJhdGlvbiAtIHRyYWNrLnN0YXJ0RnJvbVxuXG4gICAgaWYgKHRyYWNrLmRhdGEub25lbmR0aW1lcikgeyB3aW5kb3cuY2xlYXJUaW1lb3V0KHRyYWNrLmRhdGEub25lbmR0aW1lcikgfVxuXG4gICAgdHJhY2suZGF0YS5vbmVuZHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodHJhY2suZW5kZWQuYmluZCh0cmFjayksIHRyYWNrLmRhdGEudGltZXJEdXJhdGlvbiAqIDEwMDApXG4gIH1cblxuICBlbmRlZCgpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBpZiAodHJhY2sub3B0aW9ucy5sb29wKSB7XG4gICAgICBzdXBlci50cmlnZ2VyKCdlbmRlZCcsIHRyYWNrKVxuICAgICAgc3VwZXIudHJpZ2dlcignbG9vcCcsICB0cmFjaylcbiAgICAgIHRyYWNrLnBhdXNlKDApXG4gICAgICB0cmFjay5wbGF5KClcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2suc3RhdHVzLnBsYXlpbmcgPSBmYWxzZVxuICAgICAgc3VwZXIudHJpZ2dlcignZW5kZWQnLCB0cmFjaylcbiAgICB9XG4gIH1cblxuICAvLyBlbmQgb2YgcGxheSBmdW5jdGlvbnNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBwYXVzZShwYXVzZUF0VGltZSkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIC8vIGRpc2FibGUgYXV0b3BsYXksIGlmIHdlJ3ZlIHBhdXNlZCB0aGUgdHJhY2sgYmVmb3JlIGl0J3MgaGFkIGEgY2hhbmNlIHRvIGxvYWRcbiAgICBpZiAoIXRyYWNrLnN0YXR1cy5wbGF5aW5nICYmIHRyYWNrLnN0YXR1cy5zaG91bGRQbGF5T25Mb2FkKSB7XG4gICAgICB0cmFjay5zdGF0dXMuc2hvdWxkUGxheU9uTG9hZCA9IGZhbHNlXG4gICAgICB0cmFjay5vcHRpb25zLmF1dG9wbGF5ID0gZmFsc2VcbiAgICAgIHJldHVybiB0cmFja1xuICAgIH1cblxuICAgIHRyYWNrLmRhdGEuY2FjaGVkVGltZSA9IHR5cGVvZiBwYXVzZUF0VGltZSA9PT0gJ251bWJlcicgPyBwYXVzZUF0VGltZSA6IHRyYWNrLmN1cnJlbnRUaW1lKClcblxuICAgIHRyYWNrLnN0YXR1cy5wbGF5aW5nID0gZmFsc2VcblxuICAgIGlmICh0cmFjay5kYXRhLm9uZW5kdGltZXIpIHsgd2luZG93LmNsZWFyVGltZW91dCh0cmFjay5kYXRhLm9uZW5kdGltZXIpIH1cblxuICAgIC8vIHByZWZlciBzdG9wKCksIGZhbGxiYWNrIHRvIGRlcHJlY2F0ZWQgbm90ZU9mZigpXG4gICAgaWYgKHRyYWNrLmRhdGEuc291cmNlKSB7XG4gICAgICBpZiAodHlwZW9mIHRyYWNrLmRhdGEuc291cmNlLnN0b3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJhY2suZGF0YS5zb3VyY2Uuc3RvcCgwKVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdHJhY2suZGF0YS5zb3VyY2Uubm90ZU9mZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cmFjay5kYXRhLnNvdXJjZS5ub3RlT2ZmKDApXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3VwZXIudHJpZ2dlcigncGF1c2UnLCB0cmFjaylcbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIGN1cnJlbnRUaW1lKHNldFRvKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKHR5cGVvZiBzZXRUbyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmICh0cmFjay5zdGF0dXMucGxheWluZykge1xuICAgICAgICAvLyB0byBzZWVrIGEgYnVmZmVyIHRyYWNrLCB3ZSBuZWVkIHRvIHBhdXNlIGFuZCBwbGF5XG4gICAgICAgIHRyYWNrLnBhdXNlKHNldFRvKS5wbGF5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIHBhdXNlZCBvciBub3QgbG9hZGVkIHlldCwgY2FjaGUgdGhlIHRpbWVcbiAgICAgICAgdHJhY2suZGF0YS5jYWNoZWRUaW1lID0gc2V0VG9cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFja1xuICAgIH1cblxuICAgIGlmICghdHJhY2suc3RhdHVzLnJlYWR5IHx8ICF0cmFjay5zdGF0dXMucGxheWluZykge1xuICAgICAgcmV0dXJuIHRyYWNrLmRhdGEuY2FjaGVkVGltZSB8fCAwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYWNrLmRhdGEuc291cmNlLmNvbnRleHQuY3VycmVudFRpbWUgLSB0cmFjay5kYXRhLnN0YXJ0VGltZSB8fCAwXG4gIH1cblxuICBmb3JtYXR0ZWRUaW1lKGluY2x1ZGVEdXJhdGlvbikge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIGNvbnN0IHQgPSB1dGlscy50aW1lRm9ybWF0KHRyYWNrLmN1cnJlbnRUaW1lKCkpXG4gICAgY29uc3QgZCA9IHV0aWxzLnRpbWVGb3JtYXQodHJhY2suZHVyYXRpb24oKSlcblxuICAgIGlmIChpbmNsdWRlRHVyYXRpb24pIHsgcmV0dXJuIGAke3R9LyR7ZH1gIH1cbiAgICBlbHNlIHsgcmV0dXJuIHQgfVxuICB9XG5cbiAgZHVyYXRpb24oKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKCF0cmFjay5zdGF0dXMucmVhZHkgfHwgIXRyYWNrLmRhdGEuc291cmNlKSB7IHJldHVybiAwIH1cblxuICAgIHJldHVybiB0cmFjay5kYXRhLnNvdXJjZS5idWZmZXIuZHVyYXRpb24gfHwgMFxuICB9XG5cbiAgLy8gZm9yIGEgYnVmZmVyIHRyYWNrLCB2b2x1bWUoKSBpcyBiYXNpY2FsbHkgYW4gYWxpYXMgZm9yIHRoZSBnYWluIG5vZGVcbiAgdm9sdW1lKHNldFRvKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIGNvbnN0IGdhaW5Ob2RlID0gdHJhY2subm9kZSgnR2Fpbk5vZGUnKVxuXG4gICAgaWYgKHR5cGVvZiBzZXRUbyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNldFRvID0gdXRpbHMubm9ybWFsaXplKHNldFRvKVxuXG4gICAgICBpZiAodHJhY2suc3RhdHVzLm11dGVkKSB7XG4gICAgICAgIHRyYWNrLmRhdGEuZ2FpbkNhY2hlID0gc2V0VG8gLy8gY2FjaGUgdGhlIHZhbHVlIGZvciB3aGVuIHdlIHVubXV0ZVxuICAgICAgICB0cmFjay5kYXRhLmdhaW4gPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFjay5kYXRhLmdhaW4gPSBzZXRUb1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhY2suc3RhdHVzLnBsYXlpbmcgJiYgZ2Fpbk5vZGUpIHtcbiAgICAgICAgZ2Fpbk5vZGUuZ2Fpbih0cmFjay5vcHRpb25zLm1peCA/IHRyYWNrLmRhdGEuZ2FpbiAqIHRyYWNrLm9wdGlvbnMubWl4LnZvbHVtZSgpIDogdHJhY2suZGF0YS5nYWluKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhY2tcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyBhY2N1cmF0ZWx5IHJlcG9ydCBnYWluIHdoaWxlIHdl4oCZcmUgdHdlZW5pbmcgaXRcbiAgICAgIGlmICh0cmFjay5zdGF0dXMucGxheWluZyAmJiBnYWluTm9kZSkge1xuICAgICAgICB0cmFjay5kYXRhLmdhaW4gPSBnYWluTm9kZS5nYWluKClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFjay5kYXRhLmdhaW5cbiAgICB9XG4gIH1cblxuICB0d2VlblZvbHVtZShzZXRUbywgZHVyYXRpb24pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICAvLyByZW1vdmUgZXhpc3Rpbmcgdm9sdW1lIHR3ZWVuXG4gICAgaWYgKHRyYWNrLnZvbHVtZVR3ZWVuKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodHJhY2sudm9sdW1lVHdlZW4pXG4gICAgfVxuXG4gICAgLy8gaWYgd2UncmUgcGxheWluZywgd2UgY2FuIHVzZSB0aGUgZ2FpbiBub2RlJ3MgbmF0aXZlIHZhbHVlIHJhbXAgbWV0aG9kXG4gICAgaWYgKHRyYWNrLmdhaW5Ob2RlKSB7XG4gICAgICB0cmFjay5nYWluTm9kZS50d2VlbkdhaW4oc2V0VG8sIGR1cmF0aW9uKVxuICAgICAgcmV0dXJuIHV0aWxzLnRpbWVvdXRQcm9taXNlKGR1cmF0aW9uICogMTAwMClcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSdyZSBub3QgcGxheWluZyBvciBoYXZlbid0IGxvYWRlZCB5ZXQsXG4gICAgLy8gZmFsbCBiYWNrIHRvIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgbGV0IGZwcyA9IDYwIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgbGV0IGR1cmF0aW9uSW5GcmFtZXMgPSBNYXRoLnJvdW5kKGR1cmF0aW9uICogZnBzKVxuICAgICAgbGV0IGZyYW1lQ291bnQgICAgICAgPSBNYXRoLnJvdW5kKGR1cmF0aW9uICogZnBzKVxuICAgICAgbGV0IHN0YXJ0Vm9sdW1lICAgICAgPSB0cmFjay52b2x1bWUoKVxuICAgICAgbGV0IGVuZFZvbHVtZSAgICAgICAgPSB1dGlscy5ub3JtYWxpemUoc2V0VG8pXG5cbiAgICAgIHRpY2soKVxuXG4gICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICBpZiAoZnJhbWVDb3VudCA8PSAwKSB7XG4gICAgICAgICAgdHJhY2sudm9sdW1lKGVuZFZvbHVtZSlcbiAgICAgICAgICByZXNvbHZlKHRyYWNrKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYWNrLnZvbHVtZVR3ZWVuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVDb3VudCAtPSAxXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gMSAtIChmcmFtZUNvdW50IC8gZHVyYXRpb25JbkZyYW1lcylcbiAgICAgICAgY29uc3QgdiA9IHV0aWxzLmxlcnAoc3RhcnRWb2x1bWUsIGVuZFZvbHVtZSwgcHJvZ3Jlc3MpXG4gICAgICAgIHRyYWNrLnZvbHVtZSggdiApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIG11dGVkKHNldFRvKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKHR5cGVvZiBzZXRUbyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBpZiAoc2V0VG8gPT09IHRydWUpIHtcblxuICAgICAgICAvLyBtdXRlOiBjYWNoZSBjdXJyZW50IGdhaW4sIHRoZW4gc2V0IHRvIDBcbiAgICAgICAgdHJhY2suZGF0YS5nYWluQ2FjaGUgPSB0cmFjay5kYXRhLmdhaW5cbiAgICAgICAgdHJhY2sudm9sdW1lKDApXG4gICAgICAgIHRyYWNrLnN0YXR1cy5tdXRlZCA9IHRydWVcblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyB1bm11dGVcbiAgICAgICAgdHJhY2suc3RhdHVzLm11dGVkID0gZmFsc2VcbiAgICAgICAgdHJhY2sudm9sdW1lKHRyYWNrLmRhdGEuZ2FpbkNhY2hlKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYWNrXG4gICAgfVxuICAgIHJldHVybiB0cmFjay5zdGF0dXMubXV0ZWRcbiAgfVxuXG4gIHBhdXNlZCgpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG4gICAgcmV0dXJuICF0cmFjay5zdGF0dXMucGxheWluZ1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG4gICAgdHJhY2sucGF1c2UoKVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/BufferSourceTrack.js\n");

/***/ }),

/***/ "./src/modules/ElementSourceTrack.js":
/*!*******************************************!*\
  !*** ./src/modules/ElementSourceTrack.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ElementSourceTrack; });\n/* harmony import */ var _WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebAudioTrack */ \"./src/modules/WebAudioTrack.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/modules/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n\n  Web Audio API: Element Source track\n\n*/\n\n\n\nvar ElementSourceTrack =\n/*#__PURE__*/\nfunction (_WebAudioTrack) {\n  _inherits(ElementSourceTrack, _WebAudioTrack);\n\n  function ElementSourceTrack(params) {\n    var _this;\n\n    _classCallCheck(this, ElementSourceTrack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElementSourceTrack).call(this, params));\n\n    var track = _assertThisInitialized(_this);\n\n    var defaults = {\n      id: '',\n      src: '',\n      volume: 1,\n      start: 0,\n      loop: false,\n      autoplay: false,\n      context: false,\n      mix: false,\n      nodes: []\n    };\n    track.options = Object.assign(defaults, params);\n    track.ctx = track.options.context;\n\n    if (!track.ctx) {\n      throw new Error('Canâ€™t create an ElementSourceTrack without Web Audio API support');\n    } // set up our HTML5 <audio> element\n\n\n    if (!track.options.src) {\n      throw new Error('Canâ€™t create an ElementSourceTrack without a src parameter');\n    }\n\n    track.el = document.createElement('audio');\n    track.el.volume = track.options.volume;\n    track.el.muted = track.options.muted;\n    track.el.loop = track.options.loop;\n    track.el.autoplay = track.options.autoplay;\n    track.el.src = track.options.src;\n    var eventNames = ['loadstart', 'loadedmetadata', 'canplay', 'canplaythrough', 'play', 'pause', 'ended', 'timeupdate', 'seeking', 'seeked', 'error'];\n    eventNames.forEach(function (eventName) {\n      track.el.addEventListener(eventName, _get(_getPrototypeOf(ElementSourceTrack.prototype), \"trigger\", _assertThisInitialized(_this)).bind(track, eventName, false));\n    }); // web audio API setup (only needs to happen once)\n\n    track.data.source = track.ctx.createMediaElementSource(track.el);\n    var gainNode = {\n      type: 'GainNode',\n      options: {\n        gain: track.data.gain\n      }\n    };\n\n    _get(_getPrototypeOf(ElementSourceTrack.prototype), \"createNodes\", _assertThisInitialized(_this)).call(_assertThisInitialized(_this), [gainNode].concat(_toConsumableArray(track.options.nodes)), track.data.source);\n\n    return _this;\n  }\n\n  _createClass(ElementSourceTrack, [{\n    key: \"play\",\n    value: function play() {\n      var track = this;\n      track.el.play();\n      return track;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var track = this;\n      track.el.pause();\n      return track;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var track = this;\n      track.el.pause();\n      track.el.currentTime = 0;\n      return track;\n    }\n  }, {\n    key: \"currentTime\",\n    value: function currentTime(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'number') {\n        track.el.currentTime = setTo;\n        return track;\n      } else {\n        return track.el.currentTime;\n      }\n    }\n  }, {\n    key: \"duration\",\n    value: function duration() {\n      var track = this;\n      return track.el.duration;\n    }\n  }, {\n    key: \"formattedTime\",\n    value: function formattedTime(includeDuration) {\n      var track = this;\n      var t = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.currentTime());\n      var d = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.duration());\n\n      if (includeDuration) {\n        return \"\".concat(t, \"/\").concat(d);\n      } else {\n        return t;\n      }\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(setTo) {\n      var track = this;\n      var gainNode = track.node('GainNode');\n\n      if (typeof setTo === 'number') {\n        setTo = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        setTo = track.options.mix ? setTo * track.options.mix.volume() : setTo;\n        /*\n           we don't need to set both the gain node and element volume,\n          just the gain node will work, but element volume is a useful place\n          to store the current volume value\n         */\n\n        if (gainNode) {\n          gainNode.gain(setTo);\n        }\n\n        track.el.volume = setTo;\n        return track;\n      } else {\n        return track.el.volume;\n      }\n    }\n  }, {\n    key: \"tweenVolume\",\n    value: function tweenVolume(setTo, duration) {\n      var track = this; // replace existing volume tween\n\n      if (track.volumeTween) {\n        window.cancelAnimationFrame(track.volumeTween);\n      }\n\n      return new Promise(function (resolve, reject) {\n        var fps = 60; // requestAnimationFrame\n\n        var durationInFrames = Math.round(duration * fps);\n        var frameCount = Math.round(duration * fps);\n        var startVolume = track.volume();\n        var endVolume = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        tick();\n\n        function tick() {\n          if (frameCount <= 0) {\n            track.volume(endVolume);\n            resolve(track);\n          } else {\n            track.volumeTween = window.requestAnimationFrame(tick);\n          }\n\n          frameCount -= 1;\n          var progress = 1 - frameCount / durationInFrames;\n          var v = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lerp(startVolume, endVolume, progress);\n          track.volume(v);\n        }\n      });\n    }\n  }, {\n    key: \"muted\",\n    value: function muted(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'boolean') {\n        track.el.muted = setTo;\n      }\n\n      return track.el.muted;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var track = this;\n      track.pause();\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      var track = this;\n      return track.el.paused;\n    }\n  }]);\n\n  return ElementSourceTrack;\n}(_WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9FbGVtZW50U291cmNlVHJhY2suanM/YjkzMiJdLCJuYW1lcyI6WyJFbGVtZW50U291cmNlVHJhY2siLCJwYXJhbXMiLCJ0cmFjayIsImRlZmF1bHRzIiwiaWQiLCJzcmMiLCJ2b2x1bWUiLCJzdGFydCIsImxvb3AiLCJhdXRvcGxheSIsImNvbnRleHQiLCJtaXgiLCJub2RlcyIsIm9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJjdHgiLCJFcnJvciIsImVsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwibXV0ZWQiLCJldmVudE5hbWVzIiwiZm9yRWFjaCIsImV2ZW50TmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwiZGF0YSIsInNvdXJjZSIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImdhaW5Ob2RlIiwidHlwZSIsImdhaW4iLCJwbGF5IiwicGF1c2UiLCJjdXJyZW50VGltZSIsInNldFRvIiwiZHVyYXRpb24iLCJpbmNsdWRlRHVyYXRpb24iLCJ0IiwidXRpbHMiLCJ0aW1lRm9ybWF0IiwiZCIsIm5vZGUiLCJub3JtYWxpemUiLCJ2b2x1bWVUd2VlbiIsIndpbmRvdyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmcHMiLCJkdXJhdGlvbkluRnJhbWVzIiwiTWF0aCIsInJvdW5kIiwiZnJhbWVDb3VudCIsInN0YXJ0Vm9sdW1lIiwiZW5kVm9sdW1lIiwidGljayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByb2dyZXNzIiwidiIsImxlcnAiLCJwYXVzZWQiLCJXZWJBdWRpb1RyYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBTUE7QUFDQTs7SUFFcUJBLGtCOzs7OztBQUNuQiw4QkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBOztBQUNsQiw0RkFBTUEs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QUNkLGNBQUlILFVBQVUsSUFBSSxDQUFsQixFQUFxQjtBQUNuQnJELGlCQUFLLENBQUNJLE1BQU4sQ0FBYW1ELFNBQWI7QUFDQVIsbUJBQU8sQ0FBQy9DLEtBQUQsQ0FBUDtBQUNELFdBSEQsTUFHTztBQUNMQSxpQkFBSyxDQUFDMkMsV0FBTixHQUFvQkMsTUFBTSxDQUFDYSxxQkFBUCxDQUE2QkQsSUFBN0IsQ0FBcEI7QUFDRDs7QUFFREgsb0JBQVUsSUFBSSxDQUFkO0FBQ0EsY0FBTUssUUFBUSxHQUFJLElBQUtMLFVBQVUsR0FBR0gsZ0JBQXBDO0FBQ0EsY0FBTVMsQ0FBQyxHQUFHckIsOENBQUssQ0FBQ3NCLElBQU4sQ0FBV04sV0FBWCxFQUF3QkMsU0FBeEIsRUFBbUNHLFFBQW5DLENBQVY7QUFDQTFELGVBQUssQ0FBQ0ksTUFBTixDQUFjdUQsQ0FBZDtBQUNEO0FBQ0YsT0F2Qk0sQ0FBUDtBQXdCRDs7OzBCQUVLekIsSyxFQUFPO0FBQ1gsVUFBSWxDLEtBQUssR0FBRyxJQUFaOztBQUVBLFVBQUksT0FBT2tDLEtBQVAsS0FBaUIsU0FBckIsRUFBZ0M7QUFBRWxDLGFBQUssQ0FBQ2dCLEVBQU4sQ0FBU0csS0FBVCxHQUFpQmUsS0FBakI7QUFBd0I7O0FBQzFELGFBQU9sQyxLQUFLLENBQUNnQixFQUFOLENBQVNHLEtBQWhCO0FBQ0Q7Ozs4QkFFUztBQUNSLFVBQUluQixLQUFLLEdBQUcsSUFBWjtBQUNBQSxXQUFLLENBQUNnQyxLQUFOO0FBQ0Q7Ozs2QkFFUTtBQUNQLFVBQUloQyxLQUFLLEdBQUcsSUFBWjtBQUNBLGFBQU9BLEtBQUssQ0FBQ2dCLEVBQU4sQ0FBUzZDLE1BQWhCO0FBQ0Q7Ozs7RUFoTDZDQyxzRCIsImZpbGUiOiIuL3NyYy9tb2R1bGVzL0VsZW1lbnRTb3VyY2VUcmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgV2ViIEF1ZGlvIEFQSTogRWxlbWVudCBTb3VyY2UgdHJhY2tcblxuKi9cblxuaW1wb3J0IFdlYkF1ZGlvVHJhY2sgZnJvbSAnLi9XZWJBdWRpb1RyYWNrJ1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsZW1lbnRTb3VyY2VUcmFjayBleHRlbmRzIFdlYkF1ZGlvVHJhY2sge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcihwYXJhbXMpXG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgaWQ6ICAgICAgICcnLFxuICAgICAgc3JjOiAgICAgICcnLFxuICAgICAgdm9sdW1lOiAgIDEsXG4gICAgICBzdGFydDogICAgMCxcbiAgICAgIGxvb3A6ICAgICBmYWxzZSxcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgIGNvbnRleHQ6ICBmYWxzZSxcbiAgICAgIG1peDogICAgICBmYWxzZSxcbiAgICAgIG5vZGVzOiAgICBbXVxuICAgIH1cbiAgICB0cmFjay5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgcGFyYW1zKVxuICAgIHRyYWNrLmN0eCAgICAgPSB0cmFjay5vcHRpb25zLmNvbnRleHRcblxuICAgIGlmICghdHJhY2suY3R4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgY3JlYXRlIGFuIEVsZW1lbnRTb3VyY2VUcmFjayB3aXRob3V0IFdlYiBBdWRpbyBBUEkgc3VwcG9ydCcpXG4gICAgfVxuXG4gICAgLy8gc2V0IHVwIG91ciBIVE1MNSA8YXVkaW8+IGVsZW1lbnRcbiAgICBpZiAoIXRyYWNrLm9wdGlvbnMuc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgY3JlYXRlIGFuIEVsZW1lbnRTb3VyY2VUcmFjayB3aXRob3V0IGEgc3JjIHBhcmFtZXRlcicpXG4gICAgfVxuXG4gICAgdHJhY2suZWwgICAgICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpXG4gICAgdHJhY2suZWwudm9sdW1lICAgPSB0cmFjay5vcHRpb25zLnZvbHVtZVxuICAgIHRyYWNrLmVsLm11dGVkICAgID0gdHJhY2sub3B0aW9ucy5tdXRlZFxuICAgIHRyYWNrLmVsLmxvb3AgICAgID0gdHJhY2sub3B0aW9ucy5sb29wXG4gICAgdHJhY2suZWwuYXV0b3BsYXkgPSB0cmFjay5vcHRpb25zLmF1dG9wbGF5XG4gICAgdHJhY2suZWwuc3JjICAgICAgPSB0cmFjay5vcHRpb25zLnNyY1xuXG4gICAgbGV0IGV2ZW50TmFtZXMgPSBbXG4gICAgICAnbG9hZHN0YXJ0JywgJ2xvYWRlZG1ldGFkYXRhJyxcbiAgICAgICdjYW5wbGF5JywgICAnY2FucGxheXRocm91Z2gnLFxuICAgICAgJ3BsYXknLCAgICAgICdwYXVzZScsXG4gICAgICAnZW5kZWQnLCAgICAgJ3RpbWV1cGRhdGUnLFxuICAgICAgJ3NlZWtpbmcnLCAgICdzZWVrZWQnLFxuICAgICAgJ2Vycm9yJ1xuICAgIF1cblxuICAgIGV2ZW50TmFtZXMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgdHJhY2suZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHN1cGVyLnRyaWdnZXIuYmluZCh0cmFjaywgZXZlbnROYW1lLCBmYWxzZSkpXG4gICAgfSlcblxuICAgIC8vIHdlYiBhdWRpbyBBUEkgc2V0dXAgKG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UpXG4gICAgdHJhY2suZGF0YS5zb3VyY2UgPSB0cmFjay5jdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRyYWNrLmVsKVxuXG4gICAgY29uc3QgZ2Fpbk5vZGUgPSB7IHR5cGU6ICdHYWluTm9kZScsIG9wdGlvbnM6IHsgZ2FpbjogdHJhY2suZGF0YS5nYWluIH0gfVxuICAgIHN1cGVyLmNyZWF0ZU5vZGVzKFtnYWluTm9kZSwgLi4udHJhY2sub3B0aW9ucy5ub2Rlc10sIHRyYWNrLmRhdGEuc291cmNlKVxuICB9XG5cbiAgcGxheSgpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICB0cmFjay5lbC5wbGF5KClcbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIHRyYWNrLmVsLnBhdXNlKClcbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgdHJhY2suZWwucGF1c2UoKVxuICAgIHRyYWNrLmVsLmN1cnJlbnRUaW1lID0gMFxuICAgIHJldHVybiB0cmFja1xuICB9XG5cbiAgY3VycmVudFRpbWUoc2V0VG8pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBpZiAodHlwZW9mIHNldFRvID09PSAnbnVtYmVyJykge1xuICAgICAgdHJhY2suZWwuY3VycmVudFRpbWUgPSBzZXRUb1xuICAgICAgcmV0dXJuIHRyYWNrXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cmFjay5lbC5jdXJyZW50VGltZVxuICAgIH1cbiAgfVxuXG4gIGR1cmF0aW9uKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICByZXR1cm4gdHJhY2suZWwuZHVyYXRpb25cbiAgfVxuXG4gIGZvcm1hdHRlZFRpbWUoaW5jbHVkZUR1cmF0aW9uKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgY29uc3QgdCA9IHV0aWxzLnRpbWVGb3JtYXQodHJhY2suY3VycmVudFRpbWUoKSlcbiAgICBjb25zdCBkID0gdXRpbHMudGltZUZvcm1hdCh0cmFjay5kdXJhdGlvbigpKVxuXG4gICAgaWYgKGluY2x1ZGVEdXJhdGlvbikgeyByZXR1cm4gYCR7dH0vJHtkfWAgfVxuICAgIGVsc2UgeyByZXR1cm4gdCB9XG4gIH1cblxuICB2b2x1bWUoc2V0VG8pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG4gICAgY29uc3QgZ2Fpbk5vZGUgPSB0cmFjay5ub2RlKCdHYWluTm9kZScpXG5cbiAgICBpZiAodHlwZW9mIHNldFRvID09PSAnbnVtYmVyJykge1xuICAgICAgc2V0VG8gPSB1dGlscy5ub3JtYWxpemUoc2V0VG8pXG4gICAgICBzZXRUbyA9IHRyYWNrLm9wdGlvbnMubWl4ID8gc2V0VG8gKiB0cmFjay5vcHRpb25zLm1peC52b2x1bWUoKSA6IHNldFRvXG5cbiAgICAgIC8qXG5cbiAgICAgICAgd2UgZG9uJ3QgbmVlZCB0byBzZXQgYm90aCB0aGUgZ2FpbiBub2RlIGFuZCBlbGVtZW50IHZvbHVtZSxcbiAgICAgICAganVzdCB0aGUgZ2FpbiBub2RlIHdpbGwgd29yaywgYnV0IGVsZW1lbnQgdm9sdW1lIGlzIGEgdXNlZnVsIHBsYWNlXG4gICAgICAgIHRvIHN0b3JlIHRoZSBjdXJyZW50IHZvbHVtZSB2YWx1ZVxuXG4gICAgICAqL1xuXG4gICAgICBpZiAoZ2Fpbk5vZGUpIHsgZ2Fpbk5vZGUuZ2FpbihzZXRUbykgfVxuICAgICAgdHJhY2suZWwudm9sdW1lID0gc2V0VG9cbiAgICAgIHJldHVybiB0cmFja1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJhY2suZWwudm9sdW1lXG4gICAgfVxuICB9XG5cbiAgdHdlZW5Wb2x1bWUoc2V0VG8sIGR1cmF0aW9uKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgLy8gcmVwbGFjZSBleGlzdGluZyB2b2x1bWUgdHdlZW5cbiAgICBpZiAodHJhY2sudm9sdW1lVHdlZW4pIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0cmFjay52b2x1bWVUd2VlbilcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgIGxldCBmcHMgPSA2MCAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgIGxldCBkdXJhdGlvbkluRnJhbWVzID0gTWF0aC5yb3VuZChkdXJhdGlvbiAqIGZwcylcbiAgICAgIGxldCBmcmFtZUNvdW50ICAgICAgID0gTWF0aC5yb3VuZChkdXJhdGlvbiAqIGZwcylcbiAgICAgIGxldCBzdGFydFZvbHVtZSAgICAgID0gdHJhY2sudm9sdW1lKClcbiAgICAgIGxldCBlbmRWb2x1bWUgICAgICAgID0gdXRpbHMubm9ybWFsaXplKHNldFRvKVxuXG4gICAgICB0aWNrKClcblxuICAgICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgaWYgKGZyYW1lQ291bnQgPD0gMCkge1xuICAgICAgICAgIHRyYWNrLnZvbHVtZShlbmRWb2x1bWUpXG4gICAgICAgICAgcmVzb2x2ZSh0cmFjaylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFjay52b2x1bWVUd2VlbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljaylcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lQ291bnQgLT0gMVxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9ICgxIC0gKGZyYW1lQ291bnQgLyBkdXJhdGlvbkluRnJhbWVzKSlcbiAgICAgICAgY29uc3QgdiA9IHV0aWxzLmxlcnAoc3RhcnRWb2x1bWUsIGVuZFZvbHVtZSwgcHJvZ3Jlc3MpXG4gICAgICAgIHRyYWNrLnZvbHVtZSggdiApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIG11dGVkKHNldFRvKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKHR5cGVvZiBzZXRUbyA9PT0gJ2Jvb2xlYW4nKSB7IHRyYWNrLmVsLm11dGVkID0gc2V0VG8gfVxuICAgIHJldHVybiB0cmFjay5lbC5tdXRlZFxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG4gICAgdHJhY2sucGF1c2UoKVxuICB9XG5cbiAgcGF1c2VkKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICByZXR1cm4gdHJhY2suZWwucGF1c2VkXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/ElementSourceTrack.js\n");

/***/ }),

/***/ "./src/modules/Html5Track.js":
/*!***********************************!*\
  !*** ./src/modules/Html5Track.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Html5Track; });\n/* harmony import */ var _BaseTrack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseTrack */ \"./src/modules/BaseTrack.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/modules/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n\n  HTML5 <audio> element track\n\n*/\n\n\n\nvar Html5Track =\n/*#__PURE__*/\nfunction (_BaseTrack) {\n  _inherits(Html5Track, _BaseTrack);\n\n  function Html5Track(params) {\n    var _this;\n\n    _classCallCheck(this, Html5Track);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Html5Track).call(this, params));\n\n    var track = _assertThisInitialized(_this);\n\n    var defaults = {\n      id: '',\n      src: '',\n      volume: 1,\n      muted: false,\n      start: 0,\n      loop: false,\n      autoplay: false\n    };\n    track.options = Object.assign(defaults, params); // set up our HTML5 <audio> element\n\n    if (!track.options.src) {\n      throw new Error('Canâ€™t create an Html5Track without a src parameter');\n    }\n\n    track.el = document.createElement('audio');\n    track.el.volume = track.options.volume;\n    track.el.muted = track.options.muted;\n    track.el.loop = track.options.loop;\n    track.el.autoplay = track.options.autoplay;\n    track.el.src = track.options.src;\n    var eventNames = ['loadstart', 'loadedmetadata', 'canplay', 'canplaythrough', 'play', 'pause', 'ended', 'timeupdate', 'seeking', 'seeked', 'error'];\n    eventNames.forEach(function (eventName) {\n      track.el.addEventListener(eventName, _get(_getPrototypeOf(Html5Track.prototype), \"trigger\", _assertThisInitialized(_this)).bind(track, eventName, false));\n    });\n    return _this;\n  } // ********************************************************\n\n\n  _createClass(Html5Track, [{\n    key: \"play\",\n    value: function play() {\n      var track = this;\n      track.el.play();\n      return track;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var track = this;\n      track.el.pause();\n      return track;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var track = this;\n      track.el.pause();\n      track.el.currentTime = 0;\n      return track;\n    }\n  }, {\n    key: \"currentTime\",\n    value: function currentTime(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'number') {\n        track.el.currentTime = setTo;\n        return track;\n      } else {\n        return track.el.currentTime;\n      }\n    }\n  }, {\n    key: \"duration\",\n    value: function duration() {\n      var track = this;\n      return track.el.duration;\n    }\n  }, {\n    key: \"formattedTime\",\n    value: function formattedTime(includeDuration) {\n      var track = this;\n      var t = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.currentTime());\n      var d = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.duration());\n\n      if (includeDuration) {\n        return \"\".concat(t, \"/\").concat(d);\n      } else {\n        return t;\n      }\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'number') {\n        track.el.volume = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        return track;\n      } else {\n        return track.el.volume;\n      }\n    }\n  }, {\n    key: \"tweenVolume\",\n    value: function tweenVolume(setTo, duration) {\n      var track = this; // replace existing volume tween\n\n      if (track.volumeTween) {\n        window.cancelAnimationFrame(track.volumeTween);\n      }\n\n      return new Promise(function (resolve, reject) {\n        var fps = 60; // requestAnimationFrame\n\n        var durationInFrames = Math.round(duration * fps);\n        var frameCount = Math.round(duration * fps);\n        var startVolume = track.volume();\n        var endVolume = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        tick();\n\n        function tick() {\n          if (frameCount <= 0) {\n            track.volume(endVolume);\n            resolve(track);\n          } else {\n            track.volumeTween = window.requestAnimationFrame(tick);\n          }\n\n          frameCount -= 1;\n          var progress = 1 - frameCount / durationInFrames;\n          var v = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lerp(startVolume, endVolume, progress);\n          track.volume(v);\n        }\n      });\n    }\n  }, {\n    key: \"muted\",\n    value: function muted(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'boolean') {\n        track.el.muted = setTo;\n      }\n\n      return track.el.muted;\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      var track = this;\n      return track.el.paused;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var track = this;\n      track.pause();\n    }\n  }]);\n\n  return Html5Track;\n}(_BaseTrack__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9IdG1sNVRyYWNrLmpzPzhiZTkiXSwibmFtZXMiOlsiSHRtbDVUcmFjayIsInBhcmFtcyIsInRyYWNrIiwiZGVmYXVsdHMiLCJpZCIsInNyYyIsInZvbHVtZSIsIm11dGVkIiwic3RhcnQiLCJsb29wIiwiYXV0b3BsYXkiLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiRXJyb3IiLCJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImV2ZW50TmFtZXMiLCJmb3JFYWNoIiwiZXZlbnROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJwbGF5IiwicGF1c2UiLCJjdXJyZW50VGltZSIsInNldFRvIiwiZHVyYXRpb24iLCJpbmNsdWRlRHVyYXRpb24iLCJ0IiwidXRpbHMiLCJ0aW1lRm9ybWF0IiwiZCIsIm5vcm1hbGl6ZSIsInZvbHVtZVR3ZWVuIiwid2luZG93IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZwcyIsImR1cmF0aW9uSW5GcmFtZXMiLCJNYXRoIiwicm91bmQiLCJmcmFtZUNvdW50Iiwic3RhcnRWb2x1bWUiLCJlbmRWb2x1bWUiLCJ0aWNrIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicHJvZ3Jlc3MiLCJ2IiwibGVycCIsInBhdXNlZCIsIkJhc2VUcmFjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7QUFLQTtBQUNBOztJQUVxQkEsVTs7Ozs7QUFDbkIsc0JBQVlDLE1BQVosRUFBb0I7QUFBQTs7QUFBQTs7QUFDbEIsb0ZBQU1BLE1BQU47O0FBQ0EsUUFBSUMsS0FBSyxnQ0FBVDs7QUFFQSxRQUFJQyxRQUFRLEdBQUc7QUFDYkMsUUFBRSxFQUFRLEVBREc7QUFFYkMsU0FBRyxFQUFPLEVBRkc7QUFHYkMsWUFBTSxFQUFJLENBSEc7QUFJYkMsV0FBSyxFQUFLLEtBSkc7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QUssQ0FBQ0ksTUFBTixDQUFhd0MsU0FBYjtBQUNBUixtQkFBTyxDQUFDcEMsS0FBRCxDQUFQO0FBQ0QsV0FIRCxNQUdPO0FBQ0xBLGlCQUFLLENBQUNnQyxXQUFOLEdBQW9CQyxNQUFNLENBQUNhLHFCQUFQLENBQTZCRCxJQUE3QixDQUFwQjtBQUNEOztBQUVESCxvQkFBVSxJQUFJLENBQWQ7QUFDQSxjQUFNSyxRQUFRLEdBQUksSUFBS0wsVUFBVSxHQUFHSCxnQkFBcEM7QUFDQSxjQUFNUyxDQUFDLEdBQUdwQiw4Q0FBSyxDQUFDcUIsSUFBTixDQUFXTixXQUFYLEVBQXdCQyxTQUF4QixFQUFtQ0csUUFBbkMsQ0FBVjtBQUNBL0MsZUFBSyxDQUFDSSxNQUFOLENBQWM0QyxDQUFkO0FBQ0Q7QUFDRixPQXZCTSxDQUFQO0FBd0JEOzs7MEJBRUt4QixLLEVBQU87QUFDWCxVQUFJeEIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsVUFBSSxPQUFPd0IsS0FBUCxLQUFpQixTQUFyQixFQUFnQztBQUM5QnhCLGFBQUssQ0FBQ2EsRUFBTixDQUFTUixLQUFULEdBQWlCbUIsS0FBakI7QUFDRDs7QUFDRCxhQUFPeEIsS0FBSyxDQUFDYSxFQUFOLENBQVNSLEtBQWhCO0FBQ0Q7Ozs2QkFFUTtBQUNQLFVBQUlMLEtBQUssR0FBRyxJQUFaO0FBQ0EsYUFBT0EsS0FBSyxDQUFDYSxFQUFOLENBQVNxQyxNQUFoQjtBQUNEOzs7OEJBRVM7QUFDUixVQUFJbEQsS0FBSyxHQUFHLElBQVo7QUFDQUEsV0FBSyxDQUFDc0IsS0FBTjtBQUNEOzs7O0VBcEpxQzZCLGtEIiwiZmlsZSI6Ii4vc3JjL21vZHVsZXMvSHRtbDVUcmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgSFRNTDUgPGF1ZGlvPiBlbGVtZW50IHRyYWNrXG5cbiovXG5pbXBvcnQgQmFzZVRyYWNrIGZyb20gJy4vQmFzZVRyYWNrJ1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh0bWw1VHJhY2sgZXh0ZW5kcyBCYXNlVHJhY2sge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcihwYXJhbXMpXG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgaWQ6ICAgICAgICcnLFxuICAgICAgc3JjOiAgICAgICcnLFxuICAgICAgdm9sdW1lOiAgIDEsXG4gICAgICBtdXRlZDogICAgZmFsc2UsXG4gICAgICBzdGFydDogICAgMCxcbiAgICAgIGxvb3A6ICAgICBmYWxzZSxcbiAgICAgIGF1dG9wbGF5OiBmYWxzZVxuICAgIH1cbiAgICB0cmFjay5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgcGFyYW1zKVxuXG4gICAgLy8gc2V0IHVwIG91ciBIVE1MNSA8YXVkaW8+IGVsZW1lbnRcbiAgICBpZiAoIXRyYWNrLm9wdGlvbnMuc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgY3JlYXRlIGFuIEh0bWw1VHJhY2sgd2l0aG91dCBhIHNyYyBwYXJhbWV0ZXInKVxuICAgIH1cblxuICAgIHRyYWNrLmVsICAgICAgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKVxuICAgIHRyYWNrLmVsLnZvbHVtZSAgID0gdHJhY2sub3B0aW9ucy52b2x1bWVcbiAgICB0cmFjay5lbC5tdXRlZCAgICA9IHRyYWNrLm9wdGlvbnMubXV0ZWRcbiAgICB0cmFjay5lbC5sb29wICAgICA9IHRyYWNrLm9wdGlvbnMubG9vcFxuICAgIHRyYWNrLmVsLmF1dG9wbGF5ID0gdHJhY2sub3B0aW9ucy5hdXRvcGxheVxuICAgIHRyYWNrLmVsLnNyYyAgICAgID0gdHJhY2sub3B0aW9ucy5zcmNcblxuICAgIGxldCBldmVudE5hbWVzID0gW1xuICAgICAgJ2xvYWRzdGFydCcsICdsb2FkZWRtZXRhZGF0YScsXG4gICAgICAnY2FucGxheScsICAgJ2NhbnBsYXl0aHJvdWdoJyxcbiAgICAgICdwbGF5JywgICAgICAncGF1c2UnLFxuICAgICAgJ2VuZGVkJywgICAgICd0aW1ldXBkYXRlJyxcbiAgICAgICdzZWVraW5nJywgICAnc2Vla2VkJyxcbiAgICAgICdlcnJvcidcbiAgICBdXG5cbiAgICBldmVudE5hbWVzLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIHRyYWNrLmVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBzdXBlci50cmlnZ2VyLmJpbmQodHJhY2ssIGV2ZW50TmFtZSwgZmFsc2UpKVxuICAgIH0pXG4gIH1cblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIHBsYXkoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHRyYWNrLmVsLnBsYXkoKVxuICAgIHJldHVybiB0cmFja1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHRyYWNrLmVsLnBhdXNlKClcbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHRyYWNrLmVsLnBhdXNlKClcbiAgICB0cmFjay5lbC5jdXJyZW50VGltZSA9IDBcbiAgICByZXR1cm4gdHJhY2tcbiAgfVxuXG4gIGN1cnJlbnRUaW1lKHNldFRvKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIGlmICh0eXBlb2Ygc2V0VG8gPT09ICdudW1iZXInKSB7XG4gICAgICB0cmFjay5lbC5jdXJyZW50VGltZSA9IHNldFRvXG4gICAgICByZXR1cm4gdHJhY2tcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRyYWNrLmVsLmN1cnJlbnRUaW1lXG4gICAgfVxuICB9XG5cbiAgZHVyYXRpb24oKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHJldHVybiB0cmFjay5lbC5kdXJhdGlvblxuICB9XG5cbiAgZm9ybWF0dGVkVGltZShpbmNsdWRlRHVyYXRpb24pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBjb25zdCB0ID0gdXRpbHMudGltZUZvcm1hdCh0cmFjay5jdXJyZW50VGltZSgpKVxuICAgIGNvbnN0IGQgPSB1dGlscy50aW1lRm9ybWF0KHRyYWNrLmR1cmF0aW9uKCkpXG5cbiAgICBpZiAoaW5jbHVkZUR1cmF0aW9uKSB7IHJldHVybiBgJHt0fS8ke2R9YCB9XG4gICAgZWxzZSB7IHJldHVybiB0IH1cbiAgfVxuXG4gIHZvbHVtZShzZXRUbykge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICBpZiAodHlwZW9mIHNldFRvID09PSAnbnVtYmVyJykge1xuICAgICAgdHJhY2suZWwudm9sdW1lID0gdXRpbHMubm9ybWFsaXplKHNldFRvKVxuICAgICAgcmV0dXJuIHRyYWNrXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cmFjay5lbC52b2x1bWVcbiAgICB9XG4gIH1cblxuICB0d2VlblZvbHVtZShzZXRUbywgZHVyYXRpb24pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICAvLyByZXBsYWNlIGV4aXN0aW5nIHZvbHVtZSB0d2VlblxuICAgIGlmICh0cmFjay52b2x1bWVUd2Vlbikge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRyYWNrLnZvbHVtZVR3ZWVuKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgbGV0IGZwcyA9IDYwIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgbGV0IGR1cmF0aW9uSW5GcmFtZXMgPSBNYXRoLnJvdW5kKGR1cmF0aW9uICogZnBzKVxuICAgICAgbGV0IGZyYW1lQ291bnQgICAgICAgPSBNYXRoLnJvdW5kKGR1cmF0aW9uICogZnBzKVxuICAgICAgbGV0IHN0YXJ0Vm9sdW1lICAgICAgPSB0cmFjay52b2x1bWUoKVxuICAgICAgbGV0IGVuZFZvbHVtZSAgICAgICAgPSB1dGlscy5ub3JtYWxpemUoc2V0VG8pXG5cbiAgICAgIHRpY2soKVxuXG4gICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICBpZiAoZnJhbWVDb3VudCA8PSAwKSB7XG4gICAgICAgICAgdHJhY2sudm9sdW1lKGVuZFZvbHVtZSlcbiAgICAgICAgICByZXNvbHZlKHRyYWNrKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYWNrLnZvbHVtZVR3ZWVuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVDb3VudCAtPSAxXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gKDEgLSAoZnJhbWVDb3VudCAvIGR1cmF0aW9uSW5GcmFtZXMpKVxuICAgICAgICBjb25zdCB2ID0gdXRpbHMubGVycChzdGFydFZvbHVtZSwgZW5kVm9sdW1lLCBwcm9ncmVzcylcbiAgICAgICAgdHJhY2sudm9sdW1lKCB2IClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgbXV0ZWQoc2V0VG8pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG4gICAgaWYgKHR5cGVvZiBzZXRUbyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0cmFjay5lbC5tdXRlZCA9IHNldFRvXG4gICAgfVxuICAgIHJldHVybiB0cmFjay5lbC5tdXRlZFxuICB9XG5cbiAgcGF1c2VkKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICByZXR1cm4gdHJhY2suZWwucGF1c2VkXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICB0cmFjay5wYXVzZSgpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/Html5Track.js\n");

/***/ }),

/***/ "./src/modules/Mixer.js":
/*!******************************!*\
  !*** ./src/modules/Mixer.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Mixer; });\n/* harmony import */ var _trackTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackTypes */ \"./src/modules/trackTypes.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/modules/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n\n  Audio Mixer\n\n*/\n\n\n\nvar Mixer =\n/*#__PURE__*/\nfunction () {\n  function Mixer() {\n    _classCallCheck(this, Mixer);\n\n    var mix = this;\n    mix.allTracks = []; // tracks as numbered array\n\n    mix.lookup = {}; // tracks as lookup table: mix.lookup['trackname']\n\n    mix.currentVolume = 1;\n    /*\n       create a web audio context:\n      FF, Chrome, Edge unprefixed\n      Safari prefixed\n     */\n\n    if (window.AudioContext || window.webkitAudioContext) {\n      mix.context = typeof window.AudioContext === 'function' ? new window.AudioContext() : new window.webkitAudioContext();\n    }\n  }\n  /*\n     Create a new track, or return an existing track\n   */\n\n\n  _createClass(Mixer, [{\n    key: \"track\",\n    value: function track(id, params) {\n      var mix = this;\n\n      if (!id) {\n        throw new Error('Canâ€™t create a track without a name');\n      } // track already exists, return it\n\n\n      if (mix.lookup[id]) {\n        return mix.lookup[id];\n      } else if (params) {\n        // if params are passed, create a track\n        var defaults = {\n          id: id,\n          timeline: [],\n          mix: mix,\n          context: mix.context,\n          type: _trackTypes__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Html5Track // default to standard track type\n\n        };\n        var options = Object.assign(defaults, params); // should be able to pass track type as string\n\n        if (typeof options.type === 'string' && _trackTypes__WEBPACK_IMPORTED_MODULE_0__[\"default\"][options.type]) {\n          options.type = _trackTypes__WEBPACK_IMPORTED_MODULE_0__[\"default\"][options.type];\n        }\n\n        var track = new options.type(options);\n        mix.allTracks.push(track);\n        mix.lookup[id] = track;\n        return track;\n      } else {\n        // this track doesn't exist, no params received\n        return false;\n      }\n    }\n  }, {\n    key: \"tracks\",\n    value: function tracks() {\n      var mix = this;\n      return mix.allTracks;\n    }\n    /*\n       Remove an existing track. Can receive an ID or a track object.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(input) {\n      var mix = this;\n      /*\n         input can be either a string or a track object, but the track object needs to have an id property\n       */\n\n      var trackId;\n\n      if (typeof input === 'string') {\n        trackId = input;\n      } else if (_typeof(input) === 'object' && input.id) {\n        trackId = input.id;\n      }\n\n      var track = mix.lookup[trackId];\n\n      for (var i = mix.allTracks.length - 1; i >= 0; i--) {\n        if (mix.allTracks[i] === track) {\n          mix.allTracks.splice(i, 1);\n        }\n      }\n\n      if (track.destroy) {\n        track.destroy();\n      }\n\n      track = null;\n      delete mix.lookup[trackId];\n    }\n    /*\n       Set the master volume for the entire audio mixer.\n     */\n\n  }, {\n    key: \"volume\",\n    value: function volume(setTo) {\n      var mix = this;\n\n      if (typeof setTo === 'number') {\n        mix.currentVolume = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].normalize(setTo);\n        /*\n           tracks multiply their volume by the mixâ€™s volume, so whenever we change the master volume we need to call track.volume() once to get the intended result\n         */\n\n        mix.allTracks.forEach(function (track) {\n          return track.volume ? track.volume(track.volume()) : '';\n        });\n      }\n\n      return mix.currentVolume;\n    }\n  }]);\n\n  return Mixer;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9NaXhlci5qcz9jYWVhIl0sIm5hbWVzIjpbIk1peGVyIiwibWl4IiwiYWxsVHJhY2tzIiwibG9va3VwIiwiY3VycmVudFZvbHVtZSIsIndpbmRvdyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImNvbnRleHQiLCJpZCIsInBhcmFtcyIsIkVycm9yIiwiZGVmYXVsdHMiLCJ0aW1lbGluZSIsInR5cGUiLCJ0cmFja1R5cGVzIiwiSHRtbDVUcmFjayIsIm9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0cmFjayIsInB1c2giLCJpbnB1dCIsInRyYWNrSWQiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwiZGVzdHJveSIsInNldFRvIiwidXRpbHMiLCJub3JtYWxpemUiLCJmb3JFYWNoIiwidm9sdW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7QUFNQTtBQUNBOztJQUVxQkEsSzs7O0FBQ25CLG1CQUFjO0FBQUE7O0FBQ1osUUFBSUMsR0FBRyxHQUFHLElBQVY7QUFFQUEsT0FBRyxDQUFDQyxTQUFKLEdBQW9CLEVBQXBCLENBSFksQ0FHVzs7QUFDdkJELE9BQUcsQ0FBQ0UsTUFBSixHQUFvQixFQUFwQixDQUpZLENBSVc7O0FBQ3ZCRixPQUFHLENBQUNHLGFBQUosR0FBb0IsQ0FBcEI7QUFFQTs7Ozs7O0FBUUEsUUFBSUMsTUFBTSxDQUFDQyxZQUFQLElBQXVCRCxNQUFNLENBQUNFLGtCQUFsQyxFQUFzRDtBQUNwRE4sU0FBRyxDQUFDTyxPQUFKLEdBQWMsT0FBT0gsTUFBTSxDQUFDQyxZQUFkLEtBQStCLFVBQS9CLEdBQ0ksSUFBSUQsTUFBTSxDQUFDQyxZQUFYLEVBREosR0FFSSxJQUFJRCxNQUFNLENBQUNFLGtCQUFYLEVBRmxCO0FBR0Q7QUFDRjtBQUVEOzs7Ozs7OzBCQU1NRSxFLEVBQUlDLE0sRUFBUTtBQUNoQixVQUFJVCxHQUFHLEdBQUcsSUFBVjs7QUFF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ZCxDQUFzQixVQUFBWCxLQUFLO0FBQUEsaUJBQUlBLEtBQUssQ0FBQ1ksTUFBTixHQUFlWixLQUFLLENBQUNZLE1BQU4sQ0FBYVosS0FBSyxDQUFDWSxNQUFOLEVBQWIsQ0FBZixHQUE4QyxFQUFsRDtBQUFBLFNBQTNCO0FBQ0Q7O0FBQ0QsYUFBTy9CLEdBQUcsQ0FBQ0csYUFBWDtBQUNEIiwiZmlsZSI6Ii4vc3JjL21vZHVsZXMvTWl4ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIEF1ZGlvIE1peGVyXG5cbiovXG5cbmltcG9ydCB0cmFja1R5cGVzIGZyb20gJy4vdHJhY2tUeXBlcydcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXhlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBtaXggPSB0aGlzXG5cbiAgICBtaXguYWxsVHJhY2tzICAgICA9IFtdIC8vIHRyYWNrcyBhcyBudW1iZXJlZCBhcnJheVxuICAgIG1peC5sb29rdXAgICAgICAgID0ge30gLy8gdHJhY2tzIGFzIGxvb2t1cCB0YWJsZTogbWl4Lmxvb2t1cFsndHJhY2tuYW1lJ11cbiAgICBtaXguY3VycmVudFZvbHVtZSA9IDFcblxuICAgIC8qXG5cbiAgICAgIGNyZWF0ZSBhIHdlYiBhdWRpbyBjb250ZXh0OlxuICAgICAgRkYsIENocm9tZSwgRWRnZSB1bnByZWZpeGVkXG4gICAgICBTYWZhcmkgcHJlZml4ZWRcblxuICAgICovXG5cbiAgICBpZiAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSB7XG4gICAgICBtaXguY29udGV4dCA9IHR5cGVvZiB3aW5kb3cuQXVkaW9Db250ZXh0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgPyBuZXcgd2luZG93LkF1ZGlvQ29udGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgOiBuZXcgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCgpXG4gICAgfVxuICB9XG5cbiAgLypcblxuICAgIENyZWF0ZSBhIG5ldyB0cmFjaywgb3IgcmV0dXJuIGFuIGV4aXN0aW5nIHRyYWNrXG5cbiAgKi9cblxuICB0cmFjayhpZCwgcGFyYW1zKSB7XG4gICAgbGV0IG1peCA9IHRoaXNcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fu4oCZdCBjcmVhdGUgYSB0cmFjayB3aXRob3V0IGEgbmFtZScpXG4gICAgfVxuXG4gICAgLy8gdHJhY2sgYWxyZWFkeSBleGlzdHMsIHJldHVybiBpdFxuICAgIGlmIChtaXgubG9va3VwW2lkXSkgeyByZXR1cm4gbWl4Lmxvb2t1cFtpZF0gfVxuICAgIGVsc2UgaWYgKHBhcmFtcykge1xuXG4gICAgICAvLyBpZiBwYXJhbXMgYXJlIHBhc3NlZCwgY3JlYXRlIGEgdHJhY2tcbiAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgaWQ6ICAgICAgIGlkLFxuICAgICAgICB0aW1lbGluZTogW10sXG4gICAgICAgIG1peDogICAgICBtaXgsXG4gICAgICAgIGNvbnRleHQ6ICBtaXguY29udGV4dCxcbiAgICAgICAgdHlwZTogICAgIHRyYWNrVHlwZXMuSHRtbDVUcmFjayAvLyBkZWZhdWx0IHRvIHN0YW5kYXJkIHRyYWNrIHR5cGVcbiAgICAgIH1cbiAgICAgIGxldCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgcGFyYW1zKVxuXG4gICAgICAvLyBzaG91bGQgYmUgYWJsZSB0byBwYXNzIHRyYWNrIHR5cGUgYXMgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gJ3N0cmluZycgJiYgdHJhY2tUeXBlc1tvcHRpb25zLnR5cGVdKSB7XG4gICAgICAgIG9wdGlvbnMudHlwZSA9IHRyYWNrVHlwZXNbb3B0aW9ucy50eXBlXVxuICAgICAgfVxuXG4gICAgICBsZXQgdHJhY2sgPSBuZXcgb3B0aW9ucy50eXBlKG9wdGlvbnMpXG4gICAgICBtaXguYWxsVHJhY2tzLnB1c2godHJhY2spXG4gICAgICBtaXgubG9va3VwW2lkXSA9IHRyYWNrXG4gICAgICByZXR1cm4gdHJhY2tcblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGlzIHRyYWNrIGRvZXNuJ3QgZXhpc3QsIG5vIHBhcmFtcyByZWNlaXZlZFxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgdHJhY2tzKCkge1xuICAgIGxldCBtaXggPSB0aGlzXG4gICAgcmV0dXJuIG1peC5hbGxUcmFja3NcbiAgfVxuXG4gIC8qXG5cbiAgICBSZW1vdmUgYW4gZXhpc3RpbmcgdHJhY2suIENhbiByZWNlaXZlIGFuIElEIG9yIGEgdHJhY2sgb2JqZWN0LlxuXG4gICovXG4gIHJlbW92ZShpbnB1dCkge1xuICAgIGxldCBtaXggPSB0aGlzXG5cbiAgICAvKlxuXG4gICAgICBpbnB1dCBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGEgdHJhY2sgb2JqZWN0LCBidXQgdGhlIHRyYWNrIG9iamVjdCBuZWVkcyB0byBoYXZlIGFuIGlkIHByb3BlcnR5XG5cbiAgICAqL1xuXG4gICAgbGV0IHRyYWNrSWRcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgdHJhY2tJZCA9IGlucHV0XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmlkKSB7XG4gICAgICB0cmFja0lkID0gaW5wdXQuaWRcbiAgICB9XG5cbiAgICBsZXQgdHJhY2sgPSBtaXgubG9va3VwW3RyYWNrSWRdXG5cbiAgICBmb3IgKGxldCBpID0gbWl4LmFsbFRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKG1peC5hbGxUcmFja3NbaV0gPT09IHRyYWNrKSB7IG1peC5hbGxUcmFja3Muc3BsaWNlKGksIDEpIH1cbiAgICB9XG5cbiAgICBpZiAodHJhY2suZGVzdHJveSkgeyB0cmFjay5kZXN0cm95KCkgfVxuICAgIHRyYWNrID0gbnVsbFxuICAgIGRlbGV0ZSBtaXgubG9va3VwW3RyYWNrSWRdXG4gIH1cblxuICAvKlxuXG4gICAgU2V0IHRoZSBtYXN0ZXIgdm9sdW1lIGZvciB0aGUgZW50aXJlIGF1ZGlvIG1peGVyLlxuXG4gICovXG4gIHZvbHVtZShzZXRUbykge1xuICAgIGxldCBtaXggPSB0aGlzXG5cbiAgICBpZiAodHlwZW9mIHNldFRvID09PSAnbnVtYmVyJykge1xuICAgICAgbWl4LmN1cnJlbnRWb2x1bWUgPSB1dGlscy5ub3JtYWxpemUoc2V0VG8pXG5cbiAgICAgIC8qXG5cbiAgICAgICAgdHJhY2tzIG11bHRpcGx5IHRoZWlyIHZvbHVtZSBieSB0aGUgbWl44oCZcyB2b2x1bWUsIHNvIHdoZW5ldmVyIHdlIGNoYW5nZSB0aGUgbWFzdGVyIHZvbHVtZSB3ZSBuZWVkIHRvIGNhbGwgdHJhY2sudm9sdW1lKCkgb25jZSB0byBnZXQgdGhlIGludGVuZGVkIHJlc3VsdFxuXG4gICAgICAqL1xuXG4gICAgICBtaXguYWxsVHJhY2tzLmZvckVhY2godHJhY2sgPT4gdHJhY2sudm9sdW1lID8gdHJhY2sudm9sdW1lKHRyYWNrLnZvbHVtZSgpKSA6ICcnIClcbiAgICB9XG4gICAgcmV0dXJuIG1peC5jdXJyZW50Vm9sdW1lXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/Mixer.js\n");

/***/ }),

/***/ "./src/modules/StreamSourceTrack.js":
/*!******************************************!*\
  !*** ./src/modules/StreamSourceTrack.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StreamSourceTrack; });\n/* harmony import */ var _WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebAudioTrack */ \"./src/modules/WebAudioTrack.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/modules/utils.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n\n  Web Audio API: Stream Source track\n\n*/\n\n\n\nvar StreamSourceTrack =\n/*#__PURE__*/\nfunction (_WebAudioTrack) {\n  _inherits(StreamSourceTrack, _WebAudioTrack);\n\n  function StreamSourceTrack(params) {\n    var _this;\n\n    _classCallCheck(this, StreamSourceTrack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StreamSourceTrack).call(this, params));\n\n    var track = _assertThisInitialized(_this);\n\n    var defaults = {\n      id: '',\n      src: '',\n      volume: 1,\n      start: 0,\n      loop: false,\n      autoplay: false,\n      context: false,\n      mix: false,\n      nodes: []\n    };\n    track.options = Object.assign(defaults, params);\n    track.ctx = track.options.context;\n    track.status = {// ready:            false,\n      // shouldPlayOnLoad: false,\n      // playing:          false,\n      // muted:            track.options.muted || false\n    };\n\n    if (!track.ctx) {\n      throw new Error('Canâ€™t create a WebAudioTrack without Web Audio API support');\n    }\n\n    if (!navigator.mediaDevices) {\n      throw new Error('getUserMedia is not supported.');\n    }\n\n    navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n\n    if (track.options.autoload || track.options.autoplay) {\n      loadMediaStream();\n    }\n\n    return _this;\n  }\n\n  _createClass(StreamSourceTrack, [{\n    key: \"loadMediaStream\",\n    value: function loadMediaStream() {\n      var track = this;\n      track.source = track.ctx.createMediaStreamSource(track.options.src);\n      track.status.loaded = true;\n\n      if (track.options.autoplay || track.status.shouldPlay) {\n        play();\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var track = this; // track.status.ready = true\n      // super.trigger('ready', track)\n      // const biquadFilter = track.ctx.createBiquadFilter()\n      // biquadFilter.type = 'lowshelf'\n      // biquadFilter.frequency.value = 1000\n      // biquadFilter.gain.value = track.input.value\n      // const gainNode = { type: 'GainNode', options: { gain: track.data.gain } }\n      // super.createNodes([gainNode, ...track.options.nodes], track.data.source)\n      // // track.data.startTime = track.data.source.context.currentTime - track.data.cachedTime\n      // track.status.playing = true\n      // super.trigger('play', track)\n      // return track\n    }\n  }, {\n    key: \"pause\",\n    value: function pause(pauseAtTime) {\n      var track = this; // // disable autoplay, if we've paused the track before it's had a chance to load\n      // if (!track.status.playing && track.status.shouldPlayOnLoad) {\n      //   track.status.shouldPlayOnLoad = false\n      //   track.options.autoplay = false\n      //   return track\n      // }\n      // track.data.cachedTime = typeof pauseAtTime === 'number' ? pauseAtTime : track.currentTime()\n      // track.status.playing = false\n      // if (track.data.onendtimer) { window.clearTimeout(track.data.onendtimer) }\n      // // prefer stop(), fallback to deprecated noteOff()\n      // if (typeof track.data.source.stop === 'function') {\n      //   track.data.source.stop(0)\n      // } else if (typeof track.data.source.noteOff === 'function') {\n      //   track.data.source.noteOff(0)\n      // }\n      // super.trigger('pause', track)\n      // return track\n    }\n  }, {\n    key: \"currentTime\",\n    value: function currentTime(setTo) {\n      var track = this;\n\n      if (typeof setTo === 'number') {\n        if (track.status.playing) {\n          // to seek a buffer track, we need to pause and play\n          track.pause(setTo).play();\n        } else {\n          // if we're paused or not loaded yet, cache the time\n          track.data.cachedTime = setTo;\n        }\n\n        return track;\n      }\n\n      if (!track.status.ready || !track.status.playing) {\n        return track.data.cachedTime || 0;\n      }\n\n      return track.data.source.context.currentTime - track.data.startTime || 0;\n    }\n  }, {\n    key: \"formattedTime\",\n    value: function formattedTime(includeDuration) {\n      var track = this;\n      var t = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.currentTime());\n      var d = _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].timeFormat(track.duration());\n\n      if (includeDuration) {\n        return \"\".concat(t, \"/\").concat(d);\n      } else {\n        return t;\n      }\n    }\n  }, {\n    key: \"duration\",\n    value: function duration() {\n      var track = this; // if (!track.status.ready || !track.data.source) { return 0 }\n      // return track.data.source.buffer.duration || 0\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(setTo) {\n      var track = this; // const gainNode = track.node('GainNode')\n      // if (typeof setTo === 'number') {\n      //   setTo = utils.normalize(setTo)\n      //   if (track.status.muted) {\n      //     track.data.gainCache = setTo // cache the value for when we unmute\n      //     track.data.gain = 0\n      //   } else {\n      //     track.data.gain = setTo\n      //   }\n      //   if (track.status.playing && gainNode) {\n      //     gainNode.gain(track.options.mix ? track.data.gain * track.options.mix.volume() : track.data.gain)\n      //   }\n      //   return track\n      // } else {\n      //   // accurately report gain while weâ€™re tweening it\n      //   if (track.status.playing && gainNode) {\n      //     track.data.gain = gainNode.gain()\n      //   }\n      //   return track.data.gain\n      // }\n    }\n  }, {\n    key: \"tweenVolume\",\n    value: function tweenVolume(setTo, duration) {\n      var track = this; // // remove existing volume tween\n      // if (track.volumeTween) {\n      //   window.cancelAnimationFrame(track.volumeTween)\n      // }\n      // // if we're playing, we can use the gain node's native value ramp method\n      // if (track.gainNode) {\n      //   track.gainNode.tweenGain(setTo, duration)\n      //   return utils.timeoutPromise(duration * 1000)\n      // }\n      // // if we're not playing or haven't loaded yet,\n      // // fall back to requestAnimationFrame\n      // return new Promise(function(resolve, reject) {\n      //   let fps = 60 // requestAnimationFrame\n      //   let durationInFrames = Math.round(duration * fps)\n      //   let frameCount       = Math.round(duration * fps)\n      //   let startVolume      = track.volume()\n      //   let endVolume        = utils.normalize(setTo)\n      //   tick()\n      //   function tick() {\n      //     if (frameCount <= 0) {\n      //       track.volume(endVolume)\n      //       resolve(track)\n      //     } else {\n      //       track.volumeTween = window.requestAnimationFrame(tick)\n      //     }\n      //     frameCount -= 1\n      //     const progress = 1 - (frameCount / durationInFrames)\n      //     const v = utils.lerp(startVolume, endVolume, progress)\n      //     track.volume( v )\n      //   }\n      // })\n    }\n  }, {\n    key: \"muted\",\n    value: function muted(setTo) {\n      var track = this; // if (typeof setTo === 'boolean') {\n      //   if (setTo === true) {\n      //     // mute: cache current gain, then set to 0\n      //     track.data.gainCache = track.data.gain\n      //     track.volume(0)\n      //     track.status.muted = true\n      //   } else {\n      //     // unmute\n      //     track.status.muted = false\n      //     track.volume(track.data.gainCache)\n      //   }\n      //   return track\n      // }\n      // return track.status.muted\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      var track = this; // return !track.status.playing\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var track = this; // track.pause()\n    }\n  }]);\n\n  return StreamSourceTrack;\n}(_WebAudioTrack__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9TdHJlYW1Tb3VyY2VUcmFjay5qcz83ZTU5Il0sIm5hbWVzIjpbIlN0cmVhbVNvdXJjZVRyYWNrIiwicGFyYW1zIiwidHJhY2siLCJkZWZhdWx0cyIsImlkIiwic3JjIiwidm9sdW1lIiwic3RhcnQiLCJsb29wIiwiYXV0b3BsYXkiLCJjb250ZXh0IiwibWl4Iiwibm9kZXMiLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiY3R4Iiwic3RhdHVzIiwiRXJyb3IiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsImF1dG9sb2FkIiwibG9hZE1lZGlhU3RyZWFtIiwic291cmNlIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJsb2FkZWQiLCJzaG91bGRQbGF5IiwicGxheSIsInBhdXNlQXRUaW1lIiwic2V0VG8iLCJwbGF5aW5nIiwicGF1c2UiLCJkYXRhIiwiY2FjaGVkVGltZSIsInJlYWR5IiwiY3VycmVudFRpbWUiLCJzdGFydFRpbWUiLCJpbmNsdWRlRHVyYXRpb24iLCJ0IiwidXRpbHMiLCJ0aW1lRm9ybWF0IiwiZCIsImR1cmF0aW9uIiwiV2ViQXVkaW9UcmFjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OztBQU1BO0FBQ0E7O0lBRXFCQSxpQjs7Ozs7QUFDbkIsNkJBQVlDLE1BQVosRUFBb0I7QUFBQTs7QUFBQTs7QUFDbEIsMkZBQU1BLE1BQU47O0FBQ0EsUUFBSUMsS0FBSyxnQ0FBVDs7QUFFQSxRQUFJQyxRQUFRLEdBQUc7QUFDYkMsUUFBRSxFQUFRLEVBREc7QUFFYkMsU0FBRyxFQUFPLEVBRkc7QUFHYkMsWUFBTSxFQUFJLENBSEc7QUFJYkMsV0FBSyxFQUFLLENBSkc7QUFLYkMsVUFBSSxFQUFNLEtBTEc7QUFNYkMsY0FBUSxFQUFFLEtBTkc7QUFPYkMsYUFBTyxFQUFHLEtBUEc7QUFRYkMsU0FBRyxF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Riw4Q0FBSyxDQUFDQyxVQUFOLENBQWlCeEMsS0FBSyxDQUFDMEMsUUFBTixFQUFqQixDQUFWOztBQUVBLFVBQUlMLGVBQUosRUFBcUI7QUFBRSx5QkFBVUMsQ0FBVixjQUFlRyxDQUFmO0FBQW9CLE9BQTNDLE1BQ0s7QUFBRSxlQUFPSCxDQUFQO0FBQVU7QUFDbEI7OzsrQkFFVTtBQUNULFVBQUl0QyxLQUFLLEdBQUcsSUFBWixDQURTLENBR1Q7QUFFQTtBQUNEOzs7MkJBRU02QixLLEVBQU87QUFDWixVQUFJN0IsS0FBSyxHQUFHLElBQVosQ0FEWSxDQUVaO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRDs7O2dDQUVXNkIsSyxFQUFPYSxRLEVBQVU7QUFDM0IsVUFBSTFDLEtBQUssR0FBRyxJQUFaLENBRDJCLENBRzNCO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Q7OzswQkFFSzZCLEssRUFBTztBQUNYLFVBQUk3QixLQUFLLEdBQUcsSUFBWixDQURXLENBR1g7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNEOzs7NkJBRVE7QUFDUCxVQUFJQSxLQUFLLEdBQUcsSUFBWixDQURPLENBRVA7QUFDRDs7OzhCQUVTO0FBQ1IsVUFBSUEsS0FBSyxHQUFHLElBQVosQ0FEUSxDQUVSO0FBQ0Q7Ozs7RUEvTzRDMkMsc0QiLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9TdHJlYW1Tb3VyY2VUcmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgV2ViIEF1ZGlvIEFQSTogU3RyZWFtIFNvdXJjZSB0cmFja1xuXG4qL1xuXG5pbXBvcnQgV2ViQXVkaW9UcmFjayBmcm9tICcuL1dlYkF1ZGlvVHJhY2snXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyZWFtU291cmNlVHJhY2sgZXh0ZW5kcyBXZWJBdWRpb1RyYWNrIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKVxuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgIGlkOiAgICAgICAnJyxcbiAgICAgIHNyYzogICAgICAnJyxcbiAgICAgIHZvbHVtZTogICAxLFxuICAgICAgc3RhcnQ6ICAgIDAsXG4gICAgICBsb29wOiAgICAgZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBjb250ZXh0OiAgZmFsc2UsXG4gICAgICBtaXg6ICAgICAgZmFsc2UsXG4gICAgICBub2RlczogICAgW11cbiAgICB9XG4gICAgdHJhY2sub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHBhcmFtcylcbiAgICB0cmFjay5jdHggICAgID0gdHJhY2sub3B0aW9ucy5jb250ZXh0XG5cbiAgICB0cmFjay5zdGF0dXMgPSB7XG4gICAgICAvLyByZWFkeTogICAgICAgICAgICBmYWxzZSxcbiAgICAgIC8vIHNob3VsZFBsYXlPbkxvYWQ6IGZhbHNlLFxuICAgICAgLy8gcGxheWluZzogICAgICAgICAgZmFsc2UsXG4gICAgICAvLyBtdXRlZDogICAgICAgICAgICB0cmFjay5vcHRpb25zLm11dGVkIHx8IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0cmFjay5jdHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fu4oCZdCBjcmVhdGUgYSBXZWJBdWRpb1RyYWNrIHdpdGhvdXQgV2ViIEF1ZGlvIEFQSSBzdXBwb3J0JylcbiAgICB9XG5cbiAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0VXNlck1lZGlhIGlzIG5vdCBzdXBwb3J0ZWQuJylcbiAgICB9XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlICB9KVxuXG4gICAgaWYgKHRyYWNrLm9wdGlvbnMuYXV0b2xvYWQgfHwgdHJhY2sub3B0aW9ucy5hdXRvcGxheSkge1xuICAgICAgbG9hZE1lZGlhU3RyZWFtKClcbiAgICB9XG4gIH1cblxuICBsb2FkTWVkaWFTdHJlYW0oKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHRyYWNrLnNvdXJjZSA9IHRyYWNrLmN0eC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0cmFjay5vcHRpb25zLnNyYylcbiAgICB0cmFjay5zdGF0dXMubG9hZGVkID0gdHJ1ZVxuICAgIGlmICggdHJhY2sub3B0aW9ucy5hdXRvcGxheSB8fCB0cmFjay5zdGF0dXMuc2hvdWxkUGxheSApIHtcbiAgICAgIHBsYXkoKVxuICAgIH1cbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgLy8gdHJhY2suc3RhdHVzLnJlYWR5ID0gdHJ1ZVxuICAgIC8vIHN1cGVyLnRyaWdnZXIoJ3JlYWR5JywgdHJhY2spXG5cbiAgICAvLyBjb25zdCBiaXF1YWRGaWx0ZXIgPSB0cmFjay5jdHguY3JlYXRlQmlxdWFkRmlsdGVyKClcbiAgICAvLyBiaXF1YWRGaWx0ZXIudHlwZSA9ICdsb3dzaGVsZidcbiAgICAvLyBiaXF1YWRGaWx0ZXIuZnJlcXVlbmN5LnZhbHVlID0gMTAwMFxuICAgIC8vIGJpcXVhZEZpbHRlci5nYWluLnZhbHVlID0gdHJhY2suaW5wdXQudmFsdWVcblxuICAgIC8vIGNvbnN0IGdhaW5Ob2RlID0geyB0eXBlOiAnR2Fpbk5vZGUnLCBvcHRpb25zOiB7IGdhaW46IHRyYWNrLmRhdGEuZ2FpbiB9IH1cbiAgICAvLyBzdXBlci5jcmVhdGVOb2RlcyhbZ2Fpbk5vZGUsIC4uLnRyYWNrLm9wdGlvbnMubm9kZXNdLCB0cmFjay5kYXRhLnNvdXJjZSlcblxuICAgIC8vIC8vIHRyYWNrLmRhdGEuc3RhcnRUaW1lID0gdHJhY2suZGF0YS5zb3VyY2UuY29udGV4dC5jdXJyZW50VGltZSAtIHRyYWNrLmRhdGEuY2FjaGVkVGltZVxuXG4gICAgLy8gdHJhY2suc3RhdHVzLnBsYXlpbmcgPSB0cnVlXG4gICAgLy8gc3VwZXIudHJpZ2dlcigncGxheScsIHRyYWNrKVxuXG4gICAgLy8gcmV0dXJuIHRyYWNrXG4gIH1cblxuICBwYXVzZShwYXVzZUF0VGltZSkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIC8vIC8vIGRpc2FibGUgYXV0b3BsYXksIGlmIHdlJ3ZlIHBhdXNlZCB0aGUgdHJhY2sgYmVmb3JlIGl0J3MgaGFkIGEgY2hhbmNlIHRvIGxvYWRcbiAgICAvLyBpZiAoIXRyYWNrLnN0YXR1cy5wbGF5aW5nICYmIHRyYWNrLnN0YXR1cy5zaG91bGRQbGF5T25Mb2FkKSB7XG4gICAgLy8gICB0cmFjay5zdGF0dXMuc2hvdWxkUGxheU9uTG9hZCA9IGZhbHNlXG4gICAgLy8gICB0cmFjay5vcHRpb25zLmF1dG9wbGF5ID0gZmFsc2VcbiAgICAvLyAgIHJldHVybiB0cmFja1xuICAgIC8vIH1cblxuICAgIC8vIHRyYWNrLmRhdGEuY2FjaGVkVGltZSA9IHR5cGVvZiBwYXVzZUF0VGltZSA9PT0gJ251bWJlcicgPyBwYXVzZUF0VGltZSA6IHRyYWNrLmN1cnJlbnRUaW1lKClcblxuICAgIC8vIHRyYWNrLnN0YXR1cy5wbGF5aW5nID0gZmFsc2VcblxuICAgIC8vIGlmICh0cmFjay5kYXRhLm9uZW5kdGltZXIpIHsgd2luZG93LmNsZWFyVGltZW91dCh0cmFjay5kYXRhLm9uZW5kdGltZXIpIH1cblxuICAgIC8vIC8vIHByZWZlciBzdG9wKCksIGZhbGxiYWNrIHRvIGRlcHJlY2F0ZWQgbm90ZU9mZigpXG4gICAgLy8gaWYgKHR5cGVvZiB0cmFjay5kYXRhLnNvdXJjZS5zdG9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gICB0cmFjay5kYXRhLnNvdXJjZS5zdG9wKDApXG4gICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgdHJhY2suZGF0YS5zb3VyY2Uubm90ZU9mZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vICAgdHJhY2suZGF0YS5zb3VyY2Uubm90ZU9mZigwKVxuICAgIC8vIH1cblxuICAgIC8vIHN1cGVyLnRyaWdnZXIoJ3BhdXNlJywgdHJhY2spXG4gICAgLy8gcmV0dXJuIHRyYWNrXG4gIH1cblxuICBjdXJyZW50VGltZShzZXRUbykge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIGlmICh0eXBlb2Ygc2V0VG8gPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodHJhY2suc3RhdHVzLnBsYXlpbmcpIHtcbiAgICAgICAgLy8gdG8gc2VlayBhIGJ1ZmZlciB0cmFjaywgd2UgbmVlZCB0byBwYXVzZSBhbmQgcGxheVxuICAgICAgICB0cmFjay5wYXVzZShzZXRUbykucGxheSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiB3ZSdyZSBwYXVzZWQgb3Igbm90IGxvYWRlZCB5ZXQsIGNhY2hlIHRoZSB0aW1lXG4gICAgICAgIHRyYWNrLmRhdGEuY2FjaGVkVGltZSA9IHNldFRvXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhY2tcbiAgICB9XG5cbiAgICBpZiAoIXRyYWNrLnN0YXR1cy5yZWFkeSB8fCAhdHJhY2suc3RhdHVzLnBsYXlpbmcpIHtcbiAgICAgIHJldHVybiB0cmFjay5kYXRhLmNhY2hlZFRpbWUgfHwgMFxuICAgIH1cblxuICAgIHJldHVybiB0cmFjay5kYXRhLnNvdXJjZS5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdHJhY2suZGF0YS5zdGFydFRpbWUgfHwgMFxuICB9XG5cbiAgZm9ybWF0dGVkVGltZShpbmNsdWRlRHVyYXRpb24pIHtcbiAgICBsZXQgdHJhY2sgPSB0aGlzXG5cbiAgICBjb25zdCB0ID0gdXRpbHMudGltZUZvcm1hdCh0cmFjay5jdXJyZW50VGltZSgpKVxuICAgIGNvbnN0IGQgPSB1dGlscy50aW1lRm9ybWF0KHRyYWNrLmR1cmF0aW9uKCkpXG5cbiAgICBpZiAoaW5jbHVkZUR1cmF0aW9uKSB7IHJldHVybiBgJHt0fS8ke2R9YCB9XG4gICAgZWxzZSB7IHJldHVybiB0IH1cbiAgfVxuXG4gIGR1cmF0aW9uKCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIC8vIGlmICghdHJhY2suc3RhdHVzLnJlYWR5IHx8ICF0cmFjay5kYXRhLnNvdXJjZSkgeyByZXR1cm4gMCB9XG5cbiAgICAvLyByZXR1cm4gdHJhY2suZGF0YS5zb3VyY2UuYnVmZmVyLmR1cmF0aW9uIHx8IDBcbiAgfVxuXG4gIHZvbHVtZShzZXRUbykge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICAvLyBjb25zdCBnYWluTm9kZSA9IHRyYWNrLm5vZGUoJ0dhaW5Ob2RlJylcblxuICAgIC8vIGlmICh0eXBlb2Ygc2V0VG8gPT09ICdudW1iZXInKSB7XG4gICAgLy8gICBzZXRUbyA9IHV0aWxzLm5vcm1hbGl6ZShzZXRUbylcblxuICAgIC8vICAgaWYgKHRyYWNrLnN0YXR1cy5tdXRlZCkge1xuICAgIC8vICAgICB0cmFjay5kYXRhLmdhaW5DYWNoZSA9IHNldFRvIC8vIGNhY2hlIHRoZSB2YWx1ZSBmb3Igd2hlbiB3ZSB1bm11dGVcbiAgICAvLyAgICAgdHJhY2suZGF0YS5nYWluID0gMFxuICAgIC8vICAgfSBlbHNlIHtcbiAgICAvLyAgICAgdHJhY2suZGF0YS5nYWluID0gc2V0VG9cbiAgICAvLyAgIH1cblxuICAgIC8vICAgaWYgKHRyYWNrLnN0YXR1cy5wbGF5aW5nICYmIGdhaW5Ob2RlKSB7XG4gICAgLy8gICAgIGdhaW5Ob2RlLmdhaW4odHJhY2sub3B0aW9ucy5taXggPyB0cmFjay5kYXRhLmdhaW4gKiB0cmFjay5vcHRpb25zLm1peC52b2x1bWUoKSA6IHRyYWNrLmRhdGEuZ2FpbilcbiAgICAvLyAgIH1cblxuICAgIC8vICAgcmV0dXJuIHRyYWNrXG4gICAgLy8gfSBlbHNlIHtcblxuICAgIC8vICAgLy8gYWNjdXJhdGVseSByZXBvcnQgZ2FpbiB3aGlsZSB3ZeKAmXJlIHR3ZWVuaW5nIGl0XG4gICAgLy8gICBpZiAodHJhY2suc3RhdHVzLnBsYXlpbmcgJiYgZ2Fpbk5vZGUpIHtcbiAgICAvLyAgICAgdHJhY2suZGF0YS5nYWluID0gZ2Fpbk5vZGUuZ2FpbigpXG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gdHJhY2suZGF0YS5nYWluXG4gICAgLy8gfVxuICB9XG5cbiAgdHdlZW5Wb2x1bWUoc2V0VG8sIGR1cmF0aW9uKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgLy8gLy8gcmVtb3ZlIGV4aXN0aW5nIHZvbHVtZSB0d2VlblxuICAgIC8vIGlmICh0cmFjay52b2x1bWVUd2Vlbikge1xuICAgIC8vICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRyYWNrLnZvbHVtZVR3ZWVuKVxuICAgIC8vIH1cblxuICAgIC8vIC8vIGlmIHdlJ3JlIHBsYXlpbmcsIHdlIGNhbiB1c2UgdGhlIGdhaW4gbm9kZSdzIG5hdGl2ZSB2YWx1ZSByYW1wIG1ldGhvZFxuICAgIC8vIGlmICh0cmFjay5nYWluTm9kZSkge1xuICAgIC8vICAgdHJhY2suZ2Fpbk5vZGUudHdlZW5HYWluKHNldFRvLCBkdXJhdGlvbilcbiAgICAvLyAgIHJldHVybiB1dGlscy50aW1lb3V0UHJvbWlzZShkdXJhdGlvbiAqIDEwMDApXG4gICAgLy8gfVxuXG4gICAgLy8gLy8gaWYgd2UncmUgbm90IHBsYXlpbmcgb3IgaGF2ZW4ndCBsb2FkZWQgeWV0LFxuICAgIC8vIC8vIGZhbGwgYmFjayB0byByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAvLyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAvLyAgIGxldCBmcHMgPSA2MCAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAvLyAgIGxldCBkdXJhdGlvbkluRnJhbWVzID0gTWF0aC5yb3VuZChkdXJhdGlvbiAqIGZwcylcbiAgICAvLyAgIGxldCBmcmFtZUNvdW50ICAgICAgID0gTWF0aC5yb3VuZChkdXJhdGlvbiAqIGZwcylcbiAgICAvLyAgIGxldCBzdGFydFZvbHVtZSAgICAgID0gdHJhY2sudm9sdW1lKClcbiAgICAvLyAgIGxldCBlbmRWb2x1bWUgICAgICAgID0gdXRpbHMubm9ybWFsaXplKHNldFRvKVxuXG4gICAgLy8gICB0aWNrKClcblxuICAgIC8vICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAvLyAgICAgaWYgKGZyYW1lQ291bnQgPD0gMCkge1xuICAgIC8vICAgICAgIHRyYWNrLnZvbHVtZShlbmRWb2x1bWUpXG4gICAgLy8gICAgICAgcmVzb2x2ZSh0cmFjaylcbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICB0cmFjay52b2x1bWVUd2VlbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljaylcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGZyYW1lQ291bnQgLT0gMVxuICAgIC8vICAgICBjb25zdCBwcm9ncmVzcyA9IDEgLSAoZnJhbWVDb3VudCAvIGR1cmF0aW9uSW5GcmFtZXMpXG4gICAgLy8gICAgIGNvbnN0IHYgPSB1dGlscy5sZXJwKHN0YXJ0Vm9sdW1lLCBlbmRWb2x1bWUsIHByb2dyZXNzKVxuICAgIC8vICAgICB0cmFjay52b2x1bWUoIHYgKVxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gIH1cblxuICBtdXRlZChzZXRUbykge1xuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIC8vIGlmICh0eXBlb2Ygc2V0VG8gPT09ICdib29sZWFuJykge1xuICAgIC8vICAgaWYgKHNldFRvID09PSB0cnVlKSB7XG5cbiAgICAvLyAgICAgLy8gbXV0ZTogY2FjaGUgY3VycmVudCBnYWluLCB0aGVuIHNldCB0byAwXG4gICAgLy8gICAgIHRyYWNrLmRhdGEuZ2FpbkNhY2hlID0gdHJhY2suZGF0YS5nYWluXG4gICAgLy8gICAgIHRyYWNrLnZvbHVtZSgwKVxuICAgIC8vICAgICB0cmFjay5zdGF0dXMubXV0ZWQgPSB0cnVlXG5cbiAgICAvLyAgIH0gZWxzZSB7XG5cbiAgICAvLyAgICAgLy8gdW5tdXRlXG4gICAgLy8gICAgIHRyYWNrLnN0YXR1cy5tdXRlZCA9IGZhbHNlXG4gICAgLy8gICAgIHRyYWNrLnZvbHVtZSh0cmFjay5kYXRhLmdhaW5DYWNoZSlcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiB0cmFja1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gdHJhY2suc3RhdHVzLm11dGVkXG4gIH1cblxuICBwYXVzZWQoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIC8vIHJldHVybiAhdHJhY2suc3RhdHVzLnBsYXlpbmdcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIC8vIHRyYWNrLnBhdXNlKClcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/StreamSourceTrack.js\n");

/***/ }),

/***/ "./src/modules/WebAudioTrack.js":
/*!**************************************!*\
  !*** ./src/modules/WebAudioTrack.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WebAudioTrack; });\n/* harmony import */ var _BaseTrack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseTrack */ \"./src/modules/BaseTrack.js\");\n/* harmony import */ var _nodes_allNodes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nodes/allNodes */ \"./src/modules/nodes/allNodes.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n\n  Web Audio API track - to be extended\n\n    adds node functionality to base track\n\n*/\n\n\n\nvar WebAudioTrack =\n/*#__PURE__*/\nfunction (_BaseTrack) {\n  _inherits(WebAudioTrack, _BaseTrack);\n\n  function WebAudioTrack(params) {\n    var _this;\n\n    _classCallCheck(this, WebAudioTrack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WebAudioTrack).call(this, params));\n\n    var track = _assertThisInitialized(_this);\n\n    var defaults = {\n      src: '',\n      context: false,\n      nodes: []\n    };\n    track.options = Object.assign(defaults, params);\n    track.data = {}; // reference nodes by ???\n\n    track.allNodes = [];\n    track.nodeLookup = {};\n    return _this;\n  }\n  /*\n     input is an array\n   */\n\n\n  _createClass(WebAudioTrack, [{\n    key: \"createNodes\",\n    value: function createNodes(nodes, source) {\n      var track = this;\n\n      if (!source) {\n        throw new Error('Canâ€™t create nodes without a valid source.');\n      } else if (!source.connect) {\n        throw new Error('Canâ€™t create nodes without a valid source.');\n      } // clear previous set of nodes (we recreate nodes every time we play)\n\n\n      track.allNodes = [];\n      var previousNode = source;\n      nodes.forEach(function (n) {\n        var baseParams = {\n          context: track.options.context // determine node type by duck typing\n\n        };\n\n        if (typeof n === 'string') {\n          // predefined node with all defaults, no options\n          if (_nodes_allNodes__WEBPACK_IMPORTED_MODULE_1__[\"default\"][n]) {\n            var newNode = new _nodes_allNodes__WEBPACK_IMPORTED_MODULE_1__[\"default\"][n](baseParams);\n            track.allNodes.push(newNode);\n            track.nodeLookup[n] = newNode;\n            previousNode.connect(newNode.node);\n            previousNode = newNode.node;\n          } else {\n            throw new Error(\"Node type \".concat(n, \" does not exist.\"));\n          }\n        } else if (_typeof(n) === 'object') {\n          // create predefined node with options\n          if (n.type) {\n            var nodeType = _nodes_allNodes__WEBPACK_IMPORTED_MODULE_1__[\"default\"][n.type];\n\n            if (nodeType) {\n              var _newNode = new nodeType(Object.assign(baseParams, n.options));\n\n              track.allNodes.push(_newNode);\n              track.nodeLookup[n.type] = _newNode;\n              previousNode.connect(_newNode.node);\n              previousNode = _newNode.node;\n            } else {\n              throw new Error(\"Node type \".concat(n.type, \" does not exist.\"));\n            }\n          } else if (n.node) {\n            // create custom node, this is a raw node object\n            track.allNodes.push(n);\n            previousNode.connect(n.node);\n            previousNode = n.node;\n          }\n        }\n      });\n      previousNode.connect(track.options.context.destination);\n    }\n  }, {\n    key: \"nodes\",\n    value: function nodes() {\n      var track = this;\n      return track.allNodes;\n    }\n  }, {\n    key: \"node\",\n    value: function node(id) {\n      var track = this;\n      return track.nodeLookup[id] || false;\n    }\n  }]);\n\n  return WebAudioTrack;\n}(_BaseTrack__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9XZWJBdWRpb1RyYWNrLmpzP2RhZDQiXSwibmFtZXMiOlsiV2ViQXVkaW9UcmFjayIsInBhcmFtcyIsInRyYWNrIiwiZGVmYXVsdHMiLCJzcmMiLCJjb250ZXh0Iiwibm9kZXMiLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiZGF0YSIsImFsbE5vZGVzIiwibm9kZUxvb2t1cCIsInNvdXJjZSIsIkVycm9yIiwiY29ubmVjdCIsInByZXZpb3VzTm9kZSIsImZvckVhY2giLCJuIiwiYmFzZVBhcmFtcyIsIk5vZGVzIiwibmV3Tm9kZSIsInB1c2giLCJub2RlIiwidHlwZSIsIm5vZGVUeXBlIiwiZGVzdGluYXRpb24iLCJpZCIsIkJhc2VUcmFjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0FBT0E7QUFDQTs7SUFFcUJBLGE7Ozs7O0FBQ25CLHlCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUE7O0FBQ2xCLHVGQUFNQSxNQUFOOztBQUNBLFFBQUlDLEtBQUssZ0NBQVQ7O0FBRUEsUUFBSUMsUUFBUSxHQUFHO0FBQ2JDLFNBQUcsRUFBTyxFQURHO0FBRWJDLGFBQU8sRUFBRyxLQUZHO0FBR2JDLFdBQUssRUFBSztBQUhHLEtBQWY7QUFLQUosU0FBSyxDQUFDSyxPQUFOLEdBQWdCQyxNQUFNLENBQUNDLE1BQVAsQ0FBY04sUUFBZCxFQUF3QkYsTUFBeEIsQ0FBaEI7QUFFQUMsU0FBSyxDQUFDUSxJQUFOLEdBQW1CLEVBQW5CLENBWGtCLENBWWxCOztBQUNBUixTQUFLLENBQUNTLFFBQU4sR0FBbUIsRUFBbkI7QUFDQVQsU0FBSyxDQUFDVSxVQUFOLEdBQW1CLEVBQW5CO0FBZGtCO0FBZW5CO0FBRUQ7Ozs7Ozs7Z0NBTVlOLEssRUFBT08sTSxFQUFRO0FBQ3pCLFVBQUlYLEtBQUssR0FBRyxJQUFaOztBQUVBLFVBQUksQ0FBQ1csTUFBTCxFQUFhO0FBQ1gsY0FBTSxJQUFJQyxLQUFKLENBQVUsNENBQVYsQ0FBTjtBQUNELE9BRkQsTUFFTyxJQUFJLENBQUNELE1BQU0sQ0FBQ0UsT0FBWixFQUFxQjtBQUMxQixjQUFNLElBQUlELEtBQUosQ0FBVSw0Q0FBVixDQUFOO0FBQ0QsT0FQd0IsQ0FTekI7OztBQUNBWixXQUFLLENBQUNTLFFBQU4sR0FBaUIsRUFBakI7QUFFQSxVQUFJSyxZQUFZLEdBQUdILE1BQW5CO0FBQ0FQLFdBQUssQ0FBQ1csT0FBTixDQUFjLFVBQUFDLENBQUMsRUFBSTtBQUVqQixZQUFJQyxVQUFVLEdBQUc7QUFBRWQsaUJBQU8sRUFBRUgsS0FBSyxDQUFDSyxPQUFOLENBQWNGLE9BQXpCLENBRWpCOztBQUZpQixTQUFqQjs7QUFHQSxZQUFJLE9BQU9hLENBQVAsS0FBYSxRQUFqQixFQUEyQjtBQUN6QjtBQUNBLGNBQUlFLHVEQUFLLENBQUNGLENBQUQsQ0FBVCxFQUFjO0FBRVosZ0JBQUlHLE9BQU8sR0FBRyxJQUFJRCx1REFBSyxDQUFDRixDQUFELENBQVQsQ0FBYUMsVUFBYixDQUFkO0FBQ0FqQixpQkFBSyxDQUFDUyxRQUFOLENBQWVXLElBQWYsQ0FBb0JELE9BQXBCO0FBQ0FuQixpQkFBSyxDQUFDVSxVQUFOLENBQWlCTSxDQUFqQixJQUFzQkcsT0FBdEI7QUFFQUwsd0JBQVksQ0FBQ0QsT0FBYixDQUFxQk0sT0FBTyxDQUFDRSxJQUE3QjtBQUNBUCx3QkFBWSxHQUFHSyxPQUFPLENBQUNFLElBQXZCO0FBQ0QsV0FSRCxNQVFPO0FBQ0wsa0JBQU0sSUFBSVQsS0FBSixxQkFBdUJJLENBQXZCLHNCQUFOO0FBQ0Q7QUFDRixTQWJELE1BYU8sSUFBSSxRQUFPQSxDQUFQLE1BQWEsUUFBakIsRUFBMkI7QUFDaEM7QUFDQSxjQUFLQSxDQUFDLENBQUNNLElBQVAsRUFBYztBQUVaLGdCQUFJQyxRQUFRLEdBQUdMLHVEQUFLLENBQUNGLENBQUMsQ0FBQ00sSUFBSCxDQUFwQjs7QUFDQSxnQkFBSUMsUUFBSixFQUFjO0FBRVosa0JBQUlKLFFBQU8sR0FBRyxJQUFJSSxRQUFKLENBQWNqQixNQUFNLENBQUNDLE1BQVAsQ0FBY1UsVUFBZCxFQUEwQkQsQ0FBQyxDQUFDWCxPQUE1QixDQUFkLENBQWQ7O0FBRUFMLG1CQUFLLENBQUNTLFFBQU4sQ0FBZVcsSUFBZixDQUFvQkQsUUFBcEI7QUFDQW5CLG1CQUFLLENBQUNVLFVBQU4sQ0FBaUJNLENBQUMsQ0FBQ00sSUFBbkIsSUFBMkJILFFBQTNCO0FBRUFMLDBCQUFZLENBQUNELE9BQWIsQ0FBcUJNLFFBQU8sQ0FBQ0UsSUFBN0I7QUFDQVAsMEJBQVksR0FBR0ssUUFBTyxDQUFDRSxJQUF2QjtBQUNELGFBVEQsTUFTTztBQUNMLG9CQUFNLElBQUlULEtBQUoscUJBQXVCSSxDQUFDLENBQUNNLElBQXpCLHNCQUFOO0FBQ0Q7QUFDRixXQWZELE1BZU8sSUFBSU4sQ0FBQyxDQUFDSyxJQUFOLEVBQVk7QUFDakI7QUFFQXJCLGlCQUFLLENBQUNTLFFBQU4sQ0FBZVcsSUFBZixDQUFvQkosQ0FBcEI7QUFDQUYsd0JBQVksQ0FBQ0QsT0FBYixDQUFxQkcsQ0FBQyxDQUFDSyxJQUF2QjtBQUNBUCx3QkFBWSxHQUFHRSxDQUFDLENBQUNLLElBQWpCO0FBQ0Q7QUFDRjtBQUNGLE9BM0NEO0FBNENBUCxrQkFBWSxDQUFDRCxPQUFiLENBQXFCYixLQUFLLENBQUNLLE9BQU4sQ0FBY0YsT0FBZCxDQUFzQnFCLFdBQTNDO0FBQ0Q7Ozs0QkFFTztBQUNOLFVBQUl4QixLQUFLLEdBQUcsSUFBWjtBQUNBLGFBQU9BLEtBQUssQ0FBQ1MsUUFBYjtBQUNEOzs7eUJBRUlnQixFLEVBQUk7QUFDUCxVQUFJekIsS0FBSyxHQUFHLElBQVo7QUFDQSxhQUFPQSxLQUFLLENBQUNVLFVBQU4sQ0FBaUJlLEVBQWpCLEtBQXdCLEtBQS9CO0FBQ0Q7Ozs7RUE1RndDQyxrRCIsImZpbGUiOiIuL3NyYy9tb2R1bGVzL1dlYkF1ZGlvVHJhY2suanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIFdlYiBBdWRpbyBBUEkgdHJhY2sgLSB0byBiZSBleHRlbmRlZFxuXG4gICAgYWRkcyBub2RlIGZ1bmN0aW9uYWxpdHkgdG8gYmFzZSB0cmFja1xuXG4qL1xuaW1wb3J0IEJhc2VUcmFjayBmcm9tICcuL0Jhc2VUcmFjaydcbmltcG9ydCBOb2RlcyBmcm9tICcuL25vZGVzL2FsbE5vZGVzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJBdWRpb1RyYWNrIGV4dGVuZHMgQmFzZVRyYWNrIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKVxuICAgIGxldCB0cmFjayA9IHRoaXNcblxuICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgIHNyYzogICAgICAnJyxcbiAgICAgIGNvbnRleHQ6ICBmYWxzZSxcbiAgICAgIG5vZGVzOiAgICBbXVxuICAgIH1cbiAgICB0cmFjay5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgcGFyYW1zKVxuXG4gICAgdHJhY2suZGF0YSAgICAgICA9IHt9XG4gICAgLy8gcmVmZXJlbmNlIG5vZGVzIGJ5ID8/P1xuICAgIHRyYWNrLmFsbE5vZGVzICAgPSBbXVxuICAgIHRyYWNrLm5vZGVMb29rdXAgPSB7fVxuICB9XG5cbiAgLypcblxuICAgIGlucHV0IGlzIGFuIGFycmF5XG5cbiAgKi9cblxuICBjcmVhdGVOb2Rlcyhub2Rlcywgc291cmNlKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fu4oCZdCBjcmVhdGUgbm9kZXMgd2l0aG91dCBhIHZhbGlkIHNvdXJjZS4nKVxuICAgIH0gZWxzZSBpZiAoIXNvdXJjZS5jb25uZWN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgY3JlYXRlIG5vZGVzIHdpdGhvdXQgYSB2YWxpZCBzb3VyY2UuJylcbiAgICB9XG5cbiAgICAvLyBjbGVhciBwcmV2aW91cyBzZXQgb2Ygbm9kZXMgKHdlIHJlY3JlYXRlIG5vZGVzIGV2ZXJ5IHRpbWUgd2UgcGxheSlcbiAgICB0cmFjay5hbGxOb2RlcyA9IFtdXG5cbiAgICBsZXQgcHJldmlvdXNOb2RlID0gc291cmNlXG4gICAgbm9kZXMuZm9yRWFjaChuID0+IHtcblxuICAgICAgbGV0IGJhc2VQYXJhbXMgPSB7IGNvbnRleHQ6IHRyYWNrLm9wdGlvbnMuY29udGV4dCB9XG5cbiAgICAgIC8vIGRldGVybWluZSBub2RlIHR5cGUgYnkgZHVjayB0eXBpbmdcbiAgICAgIGlmICh0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gcHJlZGVmaW5lZCBub2RlIHdpdGggYWxsIGRlZmF1bHRzLCBubyBvcHRpb25zXG4gICAgICAgIGlmIChOb2Rlc1tuXSkge1xuXG4gICAgICAgICAgbGV0IG5ld05vZGUgPSBuZXcgTm9kZXNbbl0oYmFzZVBhcmFtcylcbiAgICAgICAgICB0cmFjay5hbGxOb2Rlcy5wdXNoKG5ld05vZGUpXG4gICAgICAgICAgdHJhY2subm9kZUxvb2t1cFtuXSA9IG5ld05vZGVcblxuICAgICAgICAgIHByZXZpb3VzTm9kZS5jb25uZWN0KG5ld05vZGUubm9kZSlcbiAgICAgICAgICBwcmV2aW91c05vZGUgPSBuZXdOb2RlLm5vZGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgdHlwZSAke259IGRvZXMgbm90IGV4aXN0LmApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG4gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBwcmVkZWZpbmVkIG5vZGUgd2l0aCBvcHRpb25zXG4gICAgICAgIGlmICggbi50eXBlICkge1xuXG4gICAgICAgICAgbGV0IG5vZGVUeXBlID0gTm9kZXNbbi50eXBlXVxuICAgICAgICAgIGlmIChub2RlVHlwZSkge1xuXG4gICAgICAgICAgICBsZXQgbmV3Tm9kZSA9IG5ldyBub2RlVHlwZSggT2JqZWN0LmFzc2lnbihiYXNlUGFyYW1zLCBuLm9wdGlvbnMpIClcblxuICAgICAgICAgICAgdHJhY2suYWxsTm9kZXMucHVzaChuZXdOb2RlKVxuICAgICAgICAgICAgdHJhY2subm9kZUxvb2t1cFtuLnR5cGVdID0gbmV3Tm9kZVxuXG4gICAgICAgICAgICBwcmV2aW91c05vZGUuY29ubmVjdChuZXdOb2RlLm5vZGUpXG4gICAgICAgICAgICBwcmV2aW91c05vZGUgPSBuZXdOb2RlLm5vZGVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb2RlIHR5cGUgJHtuLnR5cGV9IGRvZXMgbm90IGV4aXN0LmApXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG4ubm9kZSkge1xuICAgICAgICAgIC8vIGNyZWF0ZSBjdXN0b20gbm9kZSwgdGhpcyBpcyBhIHJhdyBub2RlIG9iamVjdFxuXG4gICAgICAgICAgdHJhY2suYWxsTm9kZXMucHVzaChuKVxuICAgICAgICAgIHByZXZpb3VzTm9kZS5jb25uZWN0KG4ubm9kZSlcbiAgICAgICAgICBwcmV2aW91c05vZGUgPSBuLm5vZGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgcHJldmlvdXNOb2RlLmNvbm5lY3QodHJhY2sub3B0aW9ucy5jb250ZXh0LmRlc3RpbmF0aW9uKVxuICB9XG5cbiAgbm9kZXMoKSB7XG4gICAgbGV0IHRyYWNrID0gdGhpc1xuICAgIHJldHVybiB0cmFjay5hbGxOb2Rlc1xuICB9XG5cbiAgbm9kZShpZCkge1xuICAgIGxldCB0cmFjayA9IHRoaXNcbiAgICByZXR1cm4gdHJhY2subm9kZUxvb2t1cFtpZF0gfHwgZmFsc2VcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/WebAudioTrack.js\n");

/***/ }),

/***/ "./src/modules/nodes/AnalyserNode.js":
/*!*******************************************!*\
  !*** ./src/modules/nodes/AnalyserNode.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AnalyserNode; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n\n  Analyser Node (FFT)\n\n*/\nvar AnalyserNode =\n/*#__PURE__*/\nfunction () {\n  function AnalyserNode(params) {\n    _classCallCheck(this, AnalyserNode);\n\n    var state = this;\n    state.ctx = params.context;\n    state.node = state.ctx.createAnalyser();\n    state.node.smoothingTimeConstant = 0.2;\n    state.node.fftSize = 2048; // create a script processor with bufferSize of 2048\n\n    state.processor = state.ctx.createScriptProcessor(2048, 1, 1);\n    state.processor.connect(state.ctx.destination); // processor -> destination\n\n    state.node.connect(state.processor); // analyser  -> processor\n\n    state.bufferLength = state.node.frequencyBinCount;\n    state.analysis = {\n      raw: new Uint8Array(state.bufferLength),\n      average: 0,\n      low: 0,\n      mid: 0,\n      high: 0\n    };\n  }\n\n  _createClass(AnalyserNode, [{\n    key: \"connect\",\n    value: function connect(to) {\n      var state = this;\n      state.node.connect(to);\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var state = this;\n      var third = Math.round(state.bufferLength / 3);\n      var scratch = 0;\n      var i = 0;\n      state.node.getByteFrequencyData(state.analysis.raw); // calculate average\n\n      scratch = 0;\n\n      for (i = 0; i < state.bufferLength; i++) {\n        scratch += state.analysis.raw[i];\n      }\n\n      state.analysis.average = scratch / state.bufferLength / 256; // lows\n\n      scratch = 0;\n\n      for (i = 0; i < third; i++) {\n        scratch += state.analysis.raw[i];\n      }\n\n      state.analysis.low = scratch / third / 256; // mids\n\n      scratch = 0;\n\n      for (i = third; i < third * 2; i++) {\n        scratch += state.analysis.raw[i];\n      }\n\n      state.analysis.mid = scratch / third / 256; // highs\n\n      scratch = 0;\n\n      for (i = third * 2; i < state.bufferLength; i++) {\n        scratch += state.analysis.raw[i];\n      }\n\n      state.analysis.high = scratch / third / 256;\n      return state.analysis;\n    }\n  }]);\n\n  return AnalyserNode;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9ub2Rlcy9BbmFseXNlck5vZGUuanM/MjhhOSJdLCJuYW1lcyI6WyJBbmFseXNlck5vZGUiLCJwYXJhbXMiLCJzdGF0ZSIsImN0eCIsImNvbnRleHQiLCJub2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJzbW9vdGhpbmdUaW1lQ29uc3RhbnQiLCJmZnRTaXplIiwicHJvY2Vzc29yIiwiY3JlYXRlU2NyaXB0UHJvY2Vzc29yIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJhbmFseXNpcyIsInJhdyIsIlVpbnQ4QXJyYXkiLCJhdmVyYWdlIiwibG93IiwibWlkIiwiaGlnaCIsInRvIiwidGhpcmQiLCJNYXRoIiwicm91bmQiLCJzY3JhdGNoIiwiaSIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OztJQU1xQkEsWTs7O0FBQ25CLHdCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFFBQUlDLEtBQUssR0FBSSxJQUFiO0FBQ0FBLFNBQUssQ0FBQ0MsR0FBTixHQUFhRixNQUFNLENBQUNHLE9BQXBCO0FBQ0FGLFNBQUssQ0FBQ0csSUFBTixHQUFhSCxLQUFLLENBQUNDLEdBQU4sQ0FBVUcsY0FBVixFQUFiO0FBRUFKLFNBQUssQ0FBQ0csSUFBTixDQUFXRSxxQkFBWCxHQUFtQyxHQUFuQztBQUNBTCxTQUFLLENBQUNHLElBQU4sQ0FBV0csT0FBWCxHQUFxQixJQUFyQixDQU5rQixDQVFsQjs7QUFDQU4sU0FBSyxDQUFDTyxTQUFOLEdBQWtCUCxLQUFLLENBQUNDLEdBQU4sQ0FBVU8scUJBQVYsQ0FBZ0MsSUFBaEMsRUFBc0MsQ0FBdEMsRUFBeUMsQ0FBekMsQ0FBbEI7QUFFQVIsU0FBSyxDQUFDTyxTQUFOLENBQWdCRSxPQUFoQixDQUF3QlQsS0FBSyxDQUFDQyxHQUFOLENBQVVTLFdBQWxDLEVBWGtCLENBVzZCOztBQUMvQ1YsU0FBSyxDQUFDRyxJQUFOLENBQVdNLE9BQVgsQ0FBbUJULEtBQUssQ0FBQ08sU0FBekIsRUFaa0IsQ0FZNkI7O0FBRS9DUCxTQUFLLENBQUNXLFlBQU4sR0FBcUJYLEtBQUssQ0FBQ0csSUFBTixDQUFXUyxpQkFBaEM7QUFFQVosU0FBSyxDQUFDYSxRQUFOLEdBQWlCO0FBQ2ZDLFNBQUcsRUFBRSxJQUFJQyxVQUFKLENBQWVmLEtBQUssQ0FBQ1csWUFBckIsQ0FEVTtBQUVmSyxhQUFPLEVBQUUsQ0FGTTtBQUdmQyxTQUFHLEVBQU0sQ0FITTtBQUlmQyxTQUFHLEVBQU0sQ0FKTTtBQUtmQyxVQUFJLEVBQUs7QUFMTSxLQUFqQjtBQU9EOzs7OzRCQUVPQyxFLEVBQUk7QUFDVixVQUFJcEIsS0FBSyxHQUFHLElBQVo7QUFDQUEsV0FBSyxDQUFDRyxJQUFOLENBQVdNLE9BQVgsQ0FBbUJXLEVBQW5CO0FBQ0Q7OzswQkFFSztBQUNKLFVBQUlwQixLQUFLLEdBQUssSUFBZDtBQUNBLFVBQU1xQixLQUFLLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXdkIsS0FBSyxDQUFDVyxZQUFOLEdBQXFCLENBQWhDLENBQWQ7QUFDQSxVQUFJYSxPQUFPLEdBQUcsQ0FBZDtBQUNBLFVBQUlDLENBQUMsR0FBRyxDQUFSO0FBRUF6QixXQUFLLENBQUNHLElBQU4sQ0FBV3VCLG9CQUFYLENBQWdDMUIsS0FBSyxDQUFDYSxRQUFOLENBQWVDLEdBQS9DLEVBTkksQ0FRSjs7QUFDQVUsYUFBTyxHQUFHLENBQVY7O0FBQ0EsV0FBS0MsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHekIsS0FBSyxDQUFDVyxZQUF0QixFQUFvQ2MsQ0FBQyxFQUFyQyxFQUF5QztBQUN2Q0QsZUFBTyxJQUFJeEIsS0FBSyxDQUFDYSxRQUFOLENBQWVDLEdBQWYsQ0FBbUJXLENBQW5CLENBQVg7QUFDRDs7QUFDRHpCLFdBQUssQ0FBQ2EsUUFBTixDQUFlRyxPQUFmLEdBQTBCUSxPQUFPLEdBQUd4QixLQUFLLENBQUNXLFlBQWpCLEdBQWlDLEdBQTFELENBYkksQ0FlSjs7QUFDQWEsYUFBTyxHQUFHLENBQVY7O0FBQ0EsV0FBS0MsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHSixLQUFoQixFQUF1QkksQ0FBQyxFQUF4QixFQUE0QjtBQUMxQkQsZUFBTyxJQUFJeEIsS0FBSyxDQUFDYSxRQUFOLENBQWVDLEdBQWYsQ0FBbUJXLENBQW5CLENBQVg7QUFDRDs7QUFDRHpCLFdBQUssQ0FBQ2EsUUFBTixDQUFlSSxHQUFmLEdBQXNCTyxPQUFPLEdBQUdILEtBQVgsR0FBb0IsR0FBekMsQ0FwQkksQ0FzQko7O0FBQ0FHLGFBQU8sR0FBRyxDQUFWOztBQUNBLFdBQUtDLENBQUMsR0FBR0osS0FBVCxFQUFnQkksQ0FBQyxHQUFJSixLQUFLLEdBQUcsQ0FBN0IsRUFBaUNJLENBQUMsRUFBbEMsRUFBc0M7QUFDcENELGVBQU8sSUFBSXhCLEtBQUssQ0FBQ2EsUUFBTixDQUFlQyxHQUFmLENBQW1CVyxDQUFuQixDQUFYO0FBQ0Q7O0FBQ0R6QixXQUFLLENBQUNhLFFBQU4sQ0FBZUssR0FBZixHQUFzQk0sT0FBTyxHQUFHSCxLQUFYLEdBQW9CLEdBQXpDLENBM0JJLENBNkJKOztBQUNBRyxhQUFPLEdBQUcsQ0FBVjs7QUFDQSxXQUFLQyxDQUFDLEdBQUlKLEtBQUssR0FBRyxDQUFsQixFQUFzQkksQ0FBQyxHQUFHekIsS0FBSyxDQUFDVyxZQUFoQyxFQUE4Q2MsQ0FBQyxFQUEvQyxFQUFtRDtBQUNqREQsZUFBTyxJQUFJeEIsS0FBSyxDQUFDYSxRQUFOLENBQWVDLEdBQWYsQ0FBbUJXLENBQW5CLENBQVg7QUFDRDs7QUFDRHpCLFdBQUssQ0FBQ2EsUUFBTixDQUFlTSxJQUFmLEdBQXVCSyxPQUFPLEdBQUdILEtBQVgsR0FBb0IsR0FBMUM7QUFFQSxhQUFPckIsS0FBSyxDQUFDYSxRQUFiO0FBQ0QiLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9ub2Rlcy9BbmFseXNlck5vZGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIEFuYWx5c2VyIE5vZGUgKEZGVClcblxuKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5hbHlzZXJOb2RlIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgbGV0IHN0YXRlICA9IHRoaXNcbiAgICBzdGF0ZS5jdHggID0gcGFyYW1zLmNvbnRleHRcbiAgICBzdGF0ZS5ub2RlID0gc3RhdGUuY3R4LmNyZWF0ZUFuYWx5c2VyKClcblxuICAgIHN0YXRlLm5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4yXG4gICAgc3RhdGUubm9kZS5mZnRTaXplID0gMjA0OFxuXG4gICAgLy8gY3JlYXRlIGEgc2NyaXB0IHByb2Nlc3NvciB3aXRoIGJ1ZmZlclNpemUgb2YgMjA0OFxuICAgIHN0YXRlLnByb2Nlc3NvciA9IHN0YXRlLmN0eC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoMjA0OCwgMSwgMSlcblxuICAgIHN0YXRlLnByb2Nlc3Nvci5jb25uZWN0KHN0YXRlLmN0eC5kZXN0aW5hdGlvbikgLy8gcHJvY2Vzc29yIC0+IGRlc3RpbmF0aW9uXG4gICAgc3RhdGUubm9kZS5jb25uZWN0KHN0YXRlLnByb2Nlc3NvcikgICAgICAgICAgICAvLyBhbmFseXNlciAgLT4gcHJvY2Vzc29yXG5cbiAgICBzdGF0ZS5idWZmZXJMZW5ndGggPSBzdGF0ZS5ub2RlLmZyZXF1ZW5jeUJpbkNvdW50XG5cbiAgICBzdGF0ZS5hbmFseXNpcyA9IHtcbiAgICAgIHJhdzogbmV3IFVpbnQ4QXJyYXkoc3RhdGUuYnVmZmVyTGVuZ3RoKSxcbiAgICAgIGF2ZXJhZ2U6IDAsXG4gICAgICBsb3c6ICAgICAwLFxuICAgICAgbWlkOiAgICAgMCxcbiAgICAgIGhpZ2g6ICAgIDBcbiAgICB9XG4gIH1cblxuICBjb25uZWN0KHRvKSB7XG4gICAgbGV0IHN0YXRlID0gdGhpc1xuICAgIHN0YXRlLm5vZGUuY29ubmVjdCh0bylcbiAgfVxuXG4gIGdldCgpIHtcbiAgICBsZXQgc3RhdGUgICA9IHRoaXNcbiAgICBjb25zdCB0aGlyZCA9IE1hdGgucm91bmQoc3RhdGUuYnVmZmVyTGVuZ3RoIC8gMylcbiAgICBsZXQgc2NyYXRjaCA9IDBcbiAgICBsZXQgaSA9IDBcblxuICAgIHN0YXRlLm5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoc3RhdGUuYW5hbHlzaXMucmF3KVxuXG4gICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2VcbiAgICBzY3JhdGNoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBzdGF0ZS5idWZmZXJMZW5ndGg7IGkrKykge1xuICAgICAgc2NyYXRjaCArPSBzdGF0ZS5hbmFseXNpcy5yYXdbaV1cbiAgICB9XG4gICAgc3RhdGUuYW5hbHlzaXMuYXZlcmFnZSA9IChzY3JhdGNoIC8gc3RhdGUuYnVmZmVyTGVuZ3RoKSAvIDI1NlxuXG4gICAgLy8gbG93c1xuICAgIHNjcmF0Y2ggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXJkOyBpKyspIHtcbiAgICAgIHNjcmF0Y2ggKz0gc3RhdGUuYW5hbHlzaXMucmF3W2ldXG4gICAgfVxuICAgIHN0YXRlLmFuYWx5c2lzLmxvdyA9IChzY3JhdGNoIC8gdGhpcmQpIC8gMjU2XG5cbiAgICAvLyBtaWRzXG4gICAgc2NyYXRjaCA9IDBcbiAgICBmb3IgKGkgPSB0aGlyZDsgaSA8ICh0aGlyZCAqIDIpOyBpKyspIHtcbiAgICAgIHNjcmF0Y2ggKz0gc3RhdGUuYW5hbHlzaXMucmF3W2ldXG4gICAgfVxuICAgIHN0YXRlLmFuYWx5c2lzLm1pZCA9IChzY3JhdGNoIC8gdGhpcmQpIC8gMjU2XG5cbiAgICAvLyBoaWdoc1xuICAgIHNjcmF0Y2ggPSAwXG4gICAgZm9yIChpID0gKHRoaXJkICogMik7IGkgPCBzdGF0ZS5idWZmZXJMZW5ndGg7IGkrKykge1xuICAgICAgc2NyYXRjaCArPSBzdGF0ZS5hbmFseXNpcy5yYXdbaV1cbiAgICB9XG4gICAgc3RhdGUuYW5hbHlzaXMuaGlnaCA9IChzY3JhdGNoIC8gdGhpcmQpIC8gMjU2XG5cbiAgICByZXR1cm4gc3RhdGUuYW5hbHlzaXNcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/nodes/AnalyserNode.js\n");

/***/ }),

/***/ "./src/modules/nodes/GainNode.js":
/*!***************************************!*\
  !*** ./src/modules/nodes/GainNode.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GainNode; });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./src/modules/utils.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n\n  Gain Node\n\n  let g = new GainNode({\n    context: context,\n    gain:    1,\n  })\n\n  g.node -> the web audio node object\n\n  g.gain(setTo)  -> getter/setter\n  g.muted(setTo) -> getter/setter\n\n  g.tweenGain(setTo, duration)\n\n*/\n\n\nvar GainNode =\n/*#__PURE__*/\nfunction () {\n  function GainNode(params) {\n    _classCallCheck(this, GainNode);\n\n    var state = this;\n    state.ctx = params.context;\n    state.node = state.ctx.createGainNode ? state.ctx.createGainNode() : state.ctx.createGain();\n    state.gain(typeof params.gain === 'number' ? params.gain : 1);\n  }\n\n  _createClass(GainNode, [{\n    key: \"gain\",\n    value: function gain(setTo) {\n      var state = this;\n\n      if (typeof setTo === 'number') {\n        /*\n           'AudioParam value setter will become equivalent to AudioParam.setValueAtTime() in (Chrome) M65'\n           Apparently, it's bad form to set gain.value directly now, ie\n          'this.node.gain.value = u.normalize(setTo, 0, 1)'\n           Recommended behaviour now is to use setTargetAtTime.\n           - https://www.chromestatus.com/features/5287995770929152\n          - https://github.com/mrdoob/three.js/pull/11133\n           setTargetAtTime( value, start time (clamped to current time), time constant )\n         */\n        state.node.gain.setTargetAtTime(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalize(setTo), state.ctx.currentTime, 0);\n      }\n\n      return state.node.gain.value;\n    }\n    /*\n       tweenGain(0, 1, 'linear')\n      using an exponential ramp (not linear) for a more even crossfade\n      (linear creates a volume dip in the middle)\n     */\n\n  }, {\n    key: \"tweenGain\",\n    value: function tweenGain(setTo, duration) {\n      var state = this;\n\n      if (typeof state.node.gain.exponentialRampToValueAtTime === 'function') {\n        setTo = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalize(setTo);\n\n        if (setTo === 0) {\n          setTo = 0.000001;\n        } // can't use zero for ramps\n\n\n        state.node.gain.exponentialRampToValueAtTime(setTo, state.ctx.currentTime + duration);\n      }\n    }\n  }, {\n    key: \"muted\",\n    value: function muted(setTo) {}\n  }]);\n\n  return GainNode;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9ub2Rlcy9HYWluTm9kZS5qcz9kOGY0Il0sIm5hbWVzIjpbIkdhaW5Ob2RlIiwicGFyYW1zIiwic3RhdGUiLCJjdHgiLCJjb250ZXh0Iiwibm9kZSIsImNyZWF0ZUdhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJzZXRUbyIsInNldFRhcmdldEF0VGltZSIsInV0aWxzIiwibm9ybWFsaXplIiwiY3VycmVudFRpbWUiLCJ2YWx1ZSIsImR1cmF0aW9uIiwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBOztJQUVxQkEsUTs7O0FBQ25CLG9CQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFFBQUlDLEtBQUssR0FBSSxJQUFiO0FBQ0FBLFNBQUssQ0FBQ0MsR0FBTixHQUFhRixNQUFNLENBQUNHLE9BQXBCO0FBQ0FGLFNBQUssQ0FBQ0csSUFBTixHQUFhSCxLQUFLLENBQUNDLEdBQU4sQ0FBVUcsY0FBVixHQUEyQkosS0FBSyxDQUFDQyxHQUFOLENBQVVHLGNBQVYsRUFBM0IsR0FBd0RKLEtBQUssQ0FBQ0MsR0FBTixDQUFVSSxVQUFWLEVBQXJFO0FBRUFMLFNBQUssQ0FBQ00sSUFBTixDQUFZLE9BQU9QLE1BQU0sQ0FBQ08sSUFBZCxLQUF1QixRQUF2QixHQUFrQ1AsTUFBTSxDQUFDTyxJQUF6QyxHQUFnRCxDQUE1RDtBQUNEOzs7O3lCQUVJQyxLLEVBQU87QUFDVixVQUFJUCxLQUFLLEdBQUcsSUFBWjs7QUFFQSxVQUFJLE9BQU9PLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0I7Ozs7Ozs7OztBQWdCQVAsYUFBSyxDQUFDRyxJQUFOLENBQVdHLElBQVgsQ0FBZ0JFLGVBQWhCLENBQWdDQyxpREFBSyxDQUFDQyxTQUFOLENBQWdCSCxLQUFoQixDQUFoQyxFQUF3RFAsS0FBSyxDQUFDQyxHQUFOLENBQVVVLFdBQWxFLEVBQStFLENBQS9FO0FBQ0Q7O0FBQ0QsYUFBT1gsS0FBSyxDQUFDRyxJQUFOLENBQVdHLElBQVgsQ0FBZ0JNLEtBQXZCO0FBQ0Q7QUFFRDs7Ozs7Ozs7OEJBUVVMLEssRUFBT00sUSxFQUFVO0FBQ3pCLFVBQUliLEtBQUssR0FBRyxJQUFaOztBQUVBLFVBQUksT0FBT0EsS0FBSyxDQUFDRyxJQUFOLENBQVdHLElBQVgsQ0FBZ0JRLDRCQUF2QixLQUF3RCxVQUE1RCxFQUF3RTtBQUN0RVAsYUFBSyxHQUFHRSxpREFBSyxDQUFDQyxTQUFOLENBQWdCSCxLQUFoQixDQUFSOztBQUNBLFlBQUlBLEtBQUssS0FBSyxDQUFkLEVBQWlCO0FBQUVBLGVBQUssR0FBRyxRQUFSO0FBQWtCLFNBRmlDLENBRWhDOzs7QUFFdENQLGFBQUssQ0FBQ0csSUFBTixDQUFXRyxJQUFYLENBQWdCUSw0QkFBaEIsQ0FBNkNQLEtBQTdDLEVBQW9EUCxLQUFLLENBQUNDLEdBQU4sQ0FBVVUsV0FBVixHQUF3QkUsUUFBNUU7QUFDRDtBQUNGOzs7MEJBRUtOLEssRUFBTyxDQUFFIiwiZmlsZSI6Ii4vc3JjL21vZHVsZXMvbm9kZXMvR2Fpbk5vZGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIEdhaW4gTm9kZVxuXG4gIGxldCBnID0gbmV3IEdhaW5Ob2RlKHtcbiAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgIGdhaW46ICAgIDEsXG4gIH0pXG5cbiAgZy5ub2RlIC0+IHRoZSB3ZWIgYXVkaW8gbm9kZSBvYmplY3RcblxuICBnLmdhaW4oc2V0VG8pICAtPiBnZXR0ZXIvc2V0dGVyXG4gIGcubXV0ZWQoc2V0VG8pIC0+IGdldHRlci9zZXR0ZXJcblxuICBnLnR3ZWVuR2FpbihzZXRUbywgZHVyYXRpb24pXG5cbiovXG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2Fpbk5vZGUge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBsZXQgc3RhdGUgID0gdGhpc1xuICAgIHN0YXRlLmN0eCAgPSBwYXJhbXMuY29udGV4dFxuICAgIHN0YXRlLm5vZGUgPSBzdGF0ZS5jdHguY3JlYXRlR2Fpbk5vZGUgPyBzdGF0ZS5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IHN0YXRlLmN0eC5jcmVhdGVHYWluKClcblxuICAgIHN0YXRlLmdhaW4oIHR5cGVvZiBwYXJhbXMuZ2FpbiA9PT0gJ251bWJlcicgPyBwYXJhbXMuZ2FpbiA6IDEgKVxuICB9XG5cbiAgZ2FpbihzZXRUbykge1xuICAgIGxldCBzdGF0ZSA9IHRoaXNcblxuICAgIGlmICh0eXBlb2Ygc2V0VG8gPT09ICdudW1iZXInKSB7XG4gICAgICAvKlxuXG4gICAgICAgICdBdWRpb1BhcmFtIHZhbHVlIHNldHRlciB3aWxsIGJlY29tZSBlcXVpdmFsZW50IHRvIEF1ZGlvUGFyYW0uc2V0VmFsdWVBdFRpbWUoKSBpbiAoQ2hyb21lKSBNNjUnXG5cbiAgICAgICAgQXBwYXJlbnRseSwgaXQncyBiYWQgZm9ybSB0byBzZXQgZ2Fpbi52YWx1ZSBkaXJlY3RseSBub3csIGllXG4gICAgICAgICd0aGlzLm5vZGUuZ2Fpbi52YWx1ZSA9IHUubm9ybWFsaXplKHNldFRvLCAwLCAxKSdcblxuICAgICAgICBSZWNvbW1lbmRlZCBiZWhhdmlvdXIgbm93IGlzIHRvIHVzZSBzZXRUYXJnZXRBdFRpbWUuXG5cbiAgICAgICAgLSBodHRwczovL3d3dy5jaHJvbWVzdGF0dXMuY29tL2ZlYXR1cmVzLzUyODc5OTU3NzA5MjkxNTJcbiAgICAgICAgLSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL3B1bGwvMTExMzNcblxuICAgICAgICBzZXRUYXJnZXRBdFRpbWUoIHZhbHVlLCBzdGFydCB0aW1lIChjbGFtcGVkIHRvIGN1cnJlbnQgdGltZSksIHRpbWUgY29uc3RhbnQgKVxuXG4gICAgICAqL1xuXG4gICAgICBzdGF0ZS5ub2RlLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHV0aWxzLm5vcm1hbGl6ZShzZXRUbyksIHN0YXRlLmN0eC5jdXJyZW50VGltZSwgMClcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLm5vZGUuZ2Fpbi52YWx1ZVxuICB9XG5cbiAgLypcblxuICAgIHR3ZWVuR2FpbigwLCAxLCAnbGluZWFyJylcbiAgICB1c2luZyBhbiBleHBvbmVudGlhbCByYW1wIChub3QgbGluZWFyKSBmb3IgYSBtb3JlIGV2ZW4gY3Jvc3NmYWRlXG4gICAgKGxpbmVhciBjcmVhdGVzIGEgdm9sdW1lIGRpcCBpbiB0aGUgbWlkZGxlKVxuXG4gICovXG5cbiAgdHdlZW5HYWluKHNldFRvLCBkdXJhdGlvbikge1xuICAgIGxldCBzdGF0ZSA9IHRoaXNcblxuICAgIGlmICh0eXBlb2Ygc3RhdGUubm9kZS5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNldFRvID0gdXRpbHMubm9ybWFsaXplKHNldFRvKVxuICAgICAgaWYgKHNldFRvID09PSAwKSB7IHNldFRvID0gMC4wMDAwMDEgfSAvLyBjYW4ndCB1c2UgemVybyBmb3IgcmFtcHNcblxuICAgICAgc3RhdGUubm9kZS5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoc2V0VG8sIHN0YXRlLmN0eC5jdXJyZW50VGltZSArIGR1cmF0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG11dGVkKHNldFRvKSB7fVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/nodes/GainNode.js\n");

/***/ }),

/***/ "./src/modules/nodes/PannerNode.js":
/*!*****************************************!*\
  !*** ./src/modules/nodes/PannerNode.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PanNode3D; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n\n  Pan Node (3D)\n\n*/\nvar PanNode3D = function PanNode3D(params) {\n  _classCallCheck(this, PanNode3D);\n\n  var state = this;\n  state.ctx = params.context; // the name of this function is the same for\n  // both prefixed and unprefixed audio contexts\n\n  state.node = state.ctx.createPanner(); // additional setup here\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9ub2Rlcy9QYW5uZXJOb2RlLmpzPzgyYzgiXSwibmFtZXMiOlsiUGFuTm9kZTNEIiwicGFyYW1zIiwic3RhdGUiLCJjdHgiLCJjb250ZXh0Iiwibm9kZSIsImNyZWF0ZVBhbm5lciJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7OztJQU1xQkEsUyxHQUNuQixtQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUNsQixNQUFJQyxLQUFLLEdBQUcsSUFBWjtBQUNBQSxPQUFLLENBQUNDLEdBQU4sR0FBWUYsTUFBTSxDQUFDRyxPQUFuQixDQUZrQixDQUlsQjtBQUNBOztBQUNBRixPQUFLLENBQUNHLElBQU4sR0FBYUgsS0FBSyxDQUFDQyxHQUFOLENBQVVHLFlBQVYsRUFBYixDQU5rQixDQVFsQjtBQUNELEMiLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9ub2Rlcy9QYW5uZXJOb2RlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcblxuICBQYW4gTm9kZSAoM0QpXG5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbk5vZGUzRCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIGxldCBzdGF0ZSA9IHRoaXNcbiAgICBzdGF0ZS5jdHggPSBwYXJhbXMuY29udGV4dFxuXG4gICAgLy8gdGhlIG5hbWUgb2YgdGhpcyBmdW5jdGlvbiBpcyB0aGUgc2FtZSBmb3JcbiAgICAvLyBib3RoIHByZWZpeGVkIGFuZCB1bnByZWZpeGVkIGF1ZGlvIGNvbnRleHRzXG4gICAgc3RhdGUubm9kZSA9IHN0YXRlLmN0eC5jcmVhdGVQYW5uZXIoKVxuXG4gICAgLy8gYWRkaXRpb25hbCBzZXR1cCBoZXJlXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/nodes/PannerNode.js\n");

/***/ }),

/***/ "./src/modules/nodes/PannerNode2D.js":
/*!*******************************************!*\
  !*** ./src/modules/nodes/PannerNode2D.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PannerNode2D; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n\n  Pan Node (2D - left/right)\n\n*/\nvar PannerNode2D =\n/*#__PURE__*/\nfunction () {\n  function PannerNode2D(params) {\n    _classCallCheck(this, PannerNode2D);\n\n    var state = this;\n    state.ctx = params.context; // the name of this function is the same for\n    // both prefixed and unprefixed audio contexts\n\n    state.node = state.ctx.createPanner();\n    state.values = {\n      pan: 0,\n      panX: 0,\n      panY: 0,\n      panZ: 0 // additional setup here\n\n    };\n  }\n\n  _createClass(PannerNode2D, [{\n    key: \"pan\",\n    value: function pan(angle) {\n      var state = this;\n\n      if (typeof angle === 'string') {\n        if (angle === 'front') {\n          angle = 0;\n        }\n\n        if (angle === 'back') {\n          angle = 180;\n        }\n\n        if (angle === 'left') {\n          angle = 270;\n        }\n\n        if (angle === 'right') {\n          angle = 90;\n        }\n      }\n\n      if (typeof angle === 'number') {\n        state.values.pan = angle % 360;\n        var angleRad = (-angle + 90) * 0.017453292519943295; // * PI/180\n\n        var x = state.values.panX = Math.cos(angleRad);\n        var y = state.values.panY = Math.sin(angleRad);\n        var z = state.values.panZ = -0.5;\n        state.node.setPosition(x, y, z);\n      }\n\n      return state.values.pan;\n    }\n  }, {\n    key: \"tweenPan\",\n    value: function tweenPan(angle, duration) {}\n  }]);\n\n  return PannerNode2D;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9ub2Rlcy9QYW5uZXJOb2RlMkQuanM/NWU1NyJdLCJuYW1lcyI6WyJQYW5uZXJOb2RlMkQiLCJwYXJhbXMiLCJzdGF0ZSIsImN0eCIsImNvbnRleHQiLCJub2RlIiwiY3JlYXRlUGFubmVyIiwidmFsdWVzIiwicGFuIiwicGFuWCIsInBhblkiLCJwYW5aIiwiYW5nbGUiLCJhbmdsZVJhZCIsIngiLCJNYXRoIiwiY29zIiwieSIsInNpbiIsInoiLCJzZXRQb3NpdGlvbiIsImR1cmF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OztJQU1xQkEsWTs7O0FBQ25CLHdCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFFBQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0FBLFNBQUssQ0FBQ0MsR0FBTixHQUFZRixNQUFNLENBQUNHLE9BQW5CLENBRmtCLENBSWxCO0FBQ0E7O0FBQ0FGLFNBQUssQ0FBQ0csSUFBTixHQUFhSCxLQUFLLENBQUNDLEdBQU4sQ0FBVUcsWUFBVixFQUFiO0FBRUFKLFNBQUssQ0FBQ0ssTUFBTixHQUFlO0FBQ2JDLFNBQUcsRUFBRyxDQURPO0FBRWJDLFVBQUksRUFBRSxDQUZPO0FBR2JDLFVBQUksRUFBRSxDQUhPO0FBSWJDLFVBQUksRUFBRSxDQUpPLENBT2Y7O0FBUGUsS0FBZjtBQVFEOzs7O3dCQUVHQyxLLEVBQU87QUFDVCxVQUFJVixLQUFLLEdBQUcsSUFBWjs7QUFFQSxVQUFJLE9BQU9VLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsWUFBSUEsS0FBSyxLQUFLLE9BQWQsRUFBdUI7QUFBRUEsZUFBSyxHQUFLLENBQVY7QUFBYTs7QUFDdEMsWUFBSUEsS0FBSyxLQUFLLE1BQWQsRUFBdUI7QUFBRUEsZUFBSyxHQUFHLEdBQVI7QUFBYTs7QUFDdEMsWUFBSUEsS0FBSyxLQUFLLE1BQWQsRUFBdUI7QUFBRUEsZUFBSyxHQUFHLEdBQVI7QUFBYTs7QUFDdEMsWUFBSUEsS0FBSyxLQUFLLE9BQWQsRUFBdUI7QUFBRUEsZUFBSyxHQUFJLEVBQVQ7QUFBYTtBQUN2Qzs7QUFFRCxVQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0JWLGFBQUssQ0FBQ0ssTUFBTixDQUFhQyxHQUFiLEdBQW1CSSxLQUFLLEdBQUcsR0FBM0I7QUFFQSxZQUFNQyxRQUFRLEdBQUcsQ0FBQyxDQUFDRCxLQUFELEdBQVMsRUFBVixJQUFnQixvQkFBakMsQ0FINkIsQ0FHeUI7O0FBRXRELFlBQUlFLENBQUMsR0FBR1osS0FBSyxDQUFDSyxNQUFOLENBQWFFLElBQWIsR0FBb0JNLElBQUksQ0FBQ0MsR0FBTCxDQUFTSCxRQUFULENBQTVCO0FBQ0EsWUFBSUksQ0FBQyxHQUFHZixLQUFLLENBQUNLLE1BQU4sQ0FBYUcsSUFBYixHQUFvQkssSUFBSSxDQUFDRyxHQUFMLENBQVNMLFFBQVQsQ0FBNUI7QUFDQSxZQUFJTSxDQUFDLEdBQUdqQixLQUFLLENBQUNLLE1BQU4sQ0FBYUksSUFBYixHQUFvQixDQUFDLEdBQTdCO0FBRUFULGFBQUssQ0FBQ0csSUFBTixDQUFXZSxXQUFYLENBQXVCTixDQUF2QixFQUEwQkcsQ0FBMUIsRUFBNkJFLENBQTdCO0FBQ0Q7O0FBRUQsYUFBT2pCLEtBQUssQ0FBQ0ssTUFBTixDQUFhQyxHQUFwQjtBQUNEOzs7NkJBRVFJLEssRUFBT1MsUSxFQUFVLENBQUUiLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9ub2Rlcy9QYW5uZXJOb2RlMkQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIFBhbiBOb2RlICgyRCAtIGxlZnQvcmlnaHQpXG5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbm5lck5vZGUyRCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIGxldCBzdGF0ZSA9IHRoaXNcbiAgICBzdGF0ZS5jdHggPSBwYXJhbXMuY29udGV4dFxuXG4gICAgLy8gdGhlIG5hbWUgb2YgdGhpcyBmdW5jdGlvbiBpcyB0aGUgc2FtZSBmb3JcbiAgICAvLyBib3RoIHByZWZpeGVkIGFuZCB1bnByZWZpeGVkIGF1ZGlvIGNvbnRleHRzXG4gICAgc3RhdGUubm9kZSA9IHN0YXRlLmN0eC5jcmVhdGVQYW5uZXIoKVxuXG4gICAgc3RhdGUudmFsdWVzID0ge1xuICAgICAgcGFuOiAgMCxcbiAgICAgIHBhblg6IDAsXG4gICAgICBwYW5ZOiAwLFxuICAgICAgcGFuWjogMFxuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWwgc2V0dXAgaGVyZVxuICB9XG5cbiAgcGFuKGFuZ2xlKSB7XG4gICAgbGV0IHN0YXRlID0gdGhpc1xuXG4gICAgaWYgKHR5cGVvZiBhbmdsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChhbmdsZSA9PT0gJ2Zyb250JykgeyBhbmdsZSA9ICAgMCB9XG4gICAgICBpZiAoYW5nbGUgPT09ICdiYWNrJyApIHsgYW5nbGUgPSAxODAgfVxuICAgICAgaWYgKGFuZ2xlID09PSAnbGVmdCcgKSB7IGFuZ2xlID0gMjcwIH1cbiAgICAgIGlmIChhbmdsZSA9PT0gJ3JpZ2h0JykgeyBhbmdsZSA9ICA5MCB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhbmdsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHN0YXRlLnZhbHVlcy5wYW4gPSBhbmdsZSAlIDM2MFxuXG4gICAgICBjb25zdCBhbmdsZVJhZCA9ICgtYW5nbGUgKyA5MCkgKiAwLjAxNzQ1MzI5MjUxOTk0MzI5NSAvLyAqIFBJLzE4MFxuXG4gICAgICBsZXQgeCA9IHN0YXRlLnZhbHVlcy5wYW5YID0gTWF0aC5jb3MoYW5nbGVSYWQpXG4gICAgICBsZXQgeSA9IHN0YXRlLnZhbHVlcy5wYW5ZID0gTWF0aC5zaW4oYW5nbGVSYWQpXG4gICAgICBsZXQgeiA9IHN0YXRlLnZhbHVlcy5wYW5aID0gLTAuNVxuXG4gICAgICBzdGF0ZS5ub2RlLnNldFBvc2l0aW9uKHgsIHksIHopXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlLnZhbHVlcy5wYW5cbiAgfVxuXG4gIHR3ZWVuUGFuKGFuZ2xlLCBkdXJhdGlvbikge31cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/nodes/PannerNode2D.js\n");

/***/ }),

/***/ "./src/modules/nodes/allNodes.js":
/*!***************************************!*\
  !*** ./src/modules/nodes/allNodes.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GainNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GainNode */ \"./src/modules/nodes/GainNode.js\");\n/* harmony import */ var _PannerNode2D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PannerNode2D */ \"./src/modules/nodes/PannerNode2D.js\");\n/* harmony import */ var _PannerNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PannerNode */ \"./src/modules/nodes/PannerNode.js\");\n/* harmony import */ var _AnalyserNode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AnalyserNode */ \"./src/modules/nodes/AnalyserNode.js\");\n/*\n\n  Gather all nodes in a single export.\n\n  All nodes must implement this API:\n\n    let n = new Node({\n      lastNode: Node,\n      context:  WebAudioContext,\n    })\n    n.connect(lastNode)\n\n\n  ie\n\n  class MyNode {\n    constructor(params){\n      let ctx = params.context\n      this.myNode = ctx.createNodeType ? ctx.createNodeType() : ctx.createType()\n\n      // additional setup here\n    }\n\n    connect(previousNode){\n      previousNode.connect(this.myNode)\n      return this.myNode\n    }\n  }\n\n*/\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  GainNode: _GainNode__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  PannerNode2D: _PannerNode2D__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  PannerNode: _PannerNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  AnalyserNode: _AnalyserNode__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy9ub2Rlcy9hbGxOb2Rlcy5qcz8xOTJhIl0sIm5hbWVzIjpbIkdhaW5Ob2RlIiwiUGFubmVyTm9kZTJEIiwiUGFubmVyTm9kZSIsIkFuYWx5c2VyTm9kZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQkE7QUFDQTtBQUNBO0FBQ0E7QUFFZTtBQUFFQSxVQUFRLEVBQVJBLGlEQUFGO0FBQVlDLGNBQVksRUFBWkEscURBQVo7QUFBMEJDLFlBQVUsRUFBVkEsbURBQTFCO0FBQXNDQyxjQUFZLEVBQVpBLHFEQUFZQTtBQUFsRCxDQUFmIiwiZmlsZSI6Ii4vc3JjL21vZHVsZXMvbm9kZXMvYWxsTm9kZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gIEdhdGhlciBhbGwgbm9kZXMgaW4gYSBzaW5nbGUgZXhwb3J0LlxuXG4gIEFsbCBub2RlcyBtdXN0IGltcGxlbWVudCB0aGlzIEFQSTpcblxuICAgIGxldCBuID0gbmV3IE5vZGUoe1xuICAgICAgbGFzdE5vZGU6IE5vZGUsXG4gICAgICBjb250ZXh0OiAgV2ViQXVkaW9Db250ZXh0LFxuICAgIH0pXG4gICAgbi5jb25uZWN0KGxhc3ROb2RlKVxuXG5cbiAgaWVcblxuICBjbGFzcyBNeU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyl7XG4gICAgICBsZXQgY3R4ID0gcGFyYW1zLmNvbnRleHRcbiAgICAgIHRoaXMubXlOb2RlID0gY3R4LmNyZWF0ZU5vZGVUeXBlID8gY3R4LmNyZWF0ZU5vZGVUeXBlKCkgOiBjdHguY3JlYXRlVHlwZSgpXG5cbiAgICAgIC8vIGFkZGl0aW9uYWwgc2V0dXAgaGVyZVxuICAgIH1cblxuICAgIGNvbm5lY3QocHJldmlvdXNOb2RlKXtcbiAgICAgIHByZXZpb3VzTm9kZS5jb25uZWN0KHRoaXMubXlOb2RlKVxuICAgICAgcmV0dXJuIHRoaXMubXlOb2RlXG4gICAgfVxuICB9XG5cbiovXG5cbmltcG9ydCBHYWluTm9kZSBmcm9tICcuL0dhaW5Ob2RlJ1xuaW1wb3J0IFBhbm5lck5vZGUyRCBmcm9tICcuL1Bhbm5lck5vZGUyRCdcbmltcG9ydCBQYW5uZXJOb2RlIGZyb20gJy4vUGFubmVyTm9kZSdcbmltcG9ydCBBbmFseXNlck5vZGUgZnJvbSAnLi9BbmFseXNlck5vZGUnXG5cbmV4cG9ydCBkZWZhdWx0IHsgR2Fpbk5vZGUsIFBhbm5lck5vZGUyRCwgUGFubmVyTm9kZSwgQW5hbHlzZXJOb2RlIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/nodes/allNodes.js\n");

/***/ }),

/***/ "./src/modules/trackTypes.js":
/*!***********************************!*\
  !*** ./src/modules/trackTypes.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Html5Track__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Html5Track */ \"./src/modules/Html5Track.js\");\n/* harmony import */ var _BufferSourceTrack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferSourceTrack */ \"./src/modules/BufferSourceTrack.js\");\n/* harmony import */ var _ElementSourceTrack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ElementSourceTrack */ \"./src/modules/ElementSourceTrack.js\");\n/* harmony import */ var _StreamSourceTrack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StreamSourceTrack */ \"./src/modules/StreamSourceTrack.js\");\n/*\n\n  Track Types\n\n*/\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  Html5Track: _Html5Track__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  BufferSourceTrack: _BufferSourceTrack__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  ElementSourceTrack: _ElementSourceTrack__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  StreamSourceTrack: _StreamSourceTrack__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy90cmFja1R5cGVzLmpzP2E5MTUiXSwibmFtZXMiOlsiSHRtbDVUcmFjayIsIkJ1ZmZlclNvdXJjZVRyYWNrIiwiRWxlbWVudFNvdXJjZVRyYWNrIiwiU3RyZWFtU291cmNlVHJhY2siXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVlO0FBQUVBLFlBQVUsRUFBVkEsbURBQUY7QUFBY0MsbUJBQWlCLEVBQWpCQSwwREFBZDtBQUFpQ0Msb0JBQWtCLEVBQWxCQSwyREFBakM7QUFBcURDLG1CQUFpQixFQUFqQkEsMERBQWlCQTtBQUF0RSxDQUFmIiwiZmlsZSI6Ii4vc3JjL21vZHVsZXMvdHJhY2tUeXBlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiAgVHJhY2sgVHlwZXNcblxuKi9cblxuaW1wb3J0IEh0bWw1VHJhY2sgZnJvbSAnLi9IdG1sNVRyYWNrJ1xuaW1wb3J0IEJ1ZmZlclNvdXJjZVRyYWNrIGZyb20gJy4vQnVmZmVyU291cmNlVHJhY2snXG5pbXBvcnQgRWxlbWVudFNvdXJjZVRyYWNrIGZyb20gJy4vRWxlbWVudFNvdXJjZVRyYWNrJ1xuaW1wb3J0IFN0cmVhbVNvdXJjZVRyYWNrIGZyb20gJy4vU3RyZWFtU291cmNlVHJhY2snXG5cbmV4cG9ydCBkZWZhdWx0IHsgSHRtbDVUcmFjaywgQnVmZmVyU291cmNlVHJhY2ssIEVsZW1lbnRTb3VyY2VUcmFjaywgU3RyZWFtU291cmNlVHJhY2sgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/trackTypes.js\n");

/***/ }),

/***/ "./src/modules/utils.js":
/*!******************************!*\
  !*** ./src/modules/utils.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction normalize(value) {\n  if (value > 1) return 1;\n  if (value < 0) return 0;\n  return value;\n}\n\nfunction timeFormat(seconds) {\n  var min = Math.floor(seconds / 60);\n  var m = min < 10 ? \"0\".concat(min) : min;\n  var sec = Math.floor(seconds - m * 60);\n  var s = sec < 10 ? \"0\".concat(sec) : sec;\n  return \"\".concat(m, \":\").concat(s);\n}\n\nfunction lerp(start, end, now) {\n  return (1 - now) * start + now * end;\n}\n\nfunction timeoutPromise(duration) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve();\n    }, duration);\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  normalize: normalize,\n  timeFormat: timeFormat,\n  lerp: lerp,\n  timeoutPromise: timeoutPromise\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvbW9kdWxlcy91dGlscy5qcz8wODBmIl0sIm5hbWVzIjpbIm5vcm1hbGl6ZSIsInZhbHVlIiwidGltZUZvcm1hdCIsInNlY29uZHMiLCJtaW4iLCJNYXRoIiwiZmxvb3IiLCJtIiwic2VjIiwicyIsImxlcnAiLCJzdGFydCIsImVuZCIsIm5vdyIsInRpbWVvdXRQcm9taXNlIiwiZHVyYXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJBQUNBO0FBQUEsU0FBU0EsU0FBVCxDQUFtQkMsS0FBbkIsRUFBMEI7QUFDeEIsTUFBSUEsS0FBSyxHQUFHLENBQVosRUFBZSxPQUFPLENBQVA7QUFDZixNQUFJQSxLQUFLLEdBQUcsQ0FBWixFQUFlLE9BQU8sQ0FBUDtBQUNmLFNBQU9BLEtBQVA7QUFDRDs7QUFFRCxTQUFTQyxVQUFULENBQW9CQyxPQUFwQixFQUE2QjtBQUMzQixNQUFNQyxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxPQUFPLEdBQUcsRUFBckIsQ0FBWjtBQUNBLE1BQU1JLENBQUMsR0FBR0gsR0FBRyxHQUFHLEVBQU4sY0FBZUEsR0FBZixJQUF1QkEsR0FBakM7QUFFQSxNQUFNSSxHQUFHLEdBQUdILElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxPQUFPLEdBQUlJLENBQUMsR0FBRyxFQUExQixDQUFaO0FBQ0EsTUFBTUUsQ0FBQyxHQUFHRCxHQUFHLEdBQUcsRUFBTixjQUFlQSxHQUFmLElBQXVCQSxHQUFqQztBQUVBLG1CQUFVRCxDQUFWLGNBQWVFLENBQWY7QUFDRDs7QUFFRCxTQUFTQyxJQUFULENBQWNDLEtBQWQsRUFBcUJDLEdBQXJCLEVBQTBCQyxHQUExQixFQUErQjtBQUM3QixTQUFPLENBQUMsSUFBSUEsR0FBTCxJQUFZRixLQUFaLEdBQW9CRSxHQUFHLEdBQUdELEdBQWpDO0FBQ0Q7O0FBRUQsU0FBU0UsY0FBVCxDQUF3QkMsUUFBeEIsRUFBa0M7QUFDaEMsU0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQUMsT0FBTyxFQUFJO0FBQzVCQyxjQUFVLENBQUM7QUFBQSxhQUFNRCxPQUFPLEVBQWI7QUFBQSxLQUFELEVBQWtCRixRQUFsQixDQUFWO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7O0FBRWM7QUFBRWYsV0FBUyxFQUFUQSxTQUFGO0FBQWFFLFlBQVUsRUFBVkEsVUFBYjtBQUF5QlEsTUFBSSxFQUFKQSxJQUF6QjtBQUErQkksZ0JBQWMsRUFBZEE7QUFBL0IsQ0FBZiIsImZpbGUiOiIuL3NyYy9tb2R1bGVzL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBub3JtYWxpemUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID4gMSkgcmV0dXJuIDFcbiAgaWYgKHZhbHVlIDwgMCkgcmV0dXJuIDBcbiAgcmV0dXJuIHZhbHVlXG59XG5cbmZ1bmN0aW9uIHRpbWVGb3JtYXQoc2Vjb25kcykge1xuICBjb25zdCBtaW4gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgY29uc3QgbSA9IG1pbiA8IDEwID8gYDAke21pbn1gIDogbWluXG5cbiAgY29uc3Qgc2VjID0gTWF0aC5mbG9vcihzZWNvbmRzIC0gKG0gKiA2MCkpXG4gIGNvbnN0IHMgPSBzZWMgPCAxMCA/IGAwJHtzZWN9YCA6IHNlY1xuXG4gIHJldHVybiBgJHttfToke3N9YFxufVxuXG5mdW5jdGlvbiBsZXJwKHN0YXJ0LCBlbmQsIG5vdykge1xuICByZXR1cm4gKDEgLSBub3cpICogc3RhcnQgKyBub3cgKiBlbmRcbn1cblxuZnVuY3Rpb24gdGltZW91dFByb21pc2UoZHVyYXRpb24pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCBkdXJhdGlvbilcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBub3JtYWxpemUsIHRpbWVGb3JtYXQsIGxlcnAsIHRpbWVvdXRQcm9taXNlIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/utils.js\n");

/***/ })

/******/ });
});